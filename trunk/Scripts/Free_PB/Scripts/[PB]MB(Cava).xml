<?xml version="1.0" encoding="utf-8"?>
<Professionbuddy>
  <!--PB Mining Blacksmithing 1 to 300-->
  <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
    <ChangeBotAction BotName="Gatherbuddy2" />
    <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
      <CustomAction Code="dlog(&quot;Enabled bot Gatherbuddy2.&quot;);" />
    </If>
  </While>
  <LoadProfileAction ProfileType="Honorbuddy" Path="Blank.xml" />
  <If Condition="(bool)Settings[&quot;Smelted&quot;] || (bool)Settings[&quot;Crafted&quot;]" IgnoreCanRun="True">
    <If Condition="Me.IsAlliance" IgnoreCanRun="True">
      <TrainSkillAction NpcEntry="5511" Location="-8424.496, 616.8224, 95.4668" />
    </If>
    <If Condition="Me.IsHorde" IgnoreCanRun="True">
      <TrainSkillAction NpcEntry="7230" Location="2056.528, -4826.787, 27.47173" />
    </If>
    <CustomAction Code="Settings[&quot;Smelted&quot;] = false;" />
    <CustomAction Code="Settings[&quot;Crafted&quot;] = false;" />
  </If>
  <If Condition="(bool)Settings[&quot;Reset&quot;]" IgnoreCanRun="True">
    <CallSubRoutine SubRoutineName="Clean WhatWhereTill" />
    <CustomAction Code="Settings[&quot;Reset&quot;] = false;" />
  </If>
  <CallSubRoutine SubRoutineName="LOAD ROUTINE" />
  <SubRoutine SubRoutineName="LOAD ROUTINE">
    <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
      <CustomAction Code="dlog(&quot;Loaded 'Load Routine'.&quot;);" />
    </If>
    <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
    <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherHerbs = false;" />
    <CustomAction Code="CharacterSettings.Instance.LootMobs = false;" />
    <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
      <CustomAction Code="dlog(&quot;Enabled GatherMinerals in bot Gatherbuddy2.&quot;);" />
      <CustomAction Code="dlog(&quot;Disabled GatherHerbs in bot Gatherbuddy2.&quot;);" />
      <CustomAction Code="dlog(&quot;Disabled Loot mobs.&quot;);" />
    </If>
    <If Condition="(int)Settings[&quot;MapToFarm&quot;] == 0" IgnoreCanRun="True">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;There's no selected map to farm, loading Start Routine.&quot;);" />
      </If>
      <CallSubRoutine SubRoutineName="START ROUTINE" />
    </If>
    <CallSubRoutine SubRoutineName="MAIN ROUTINE" />
    <CallSubRoutine SubRoutineName="FINAL ROUTINE" />
  </SubRoutine>
  <SubRoutine SubRoutineName="START ROUTINE">
    <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
      <CustomAction Code="dlog(&quot;Loaded start routine.&quot;);" />
    </If>
    <CustomAction Code="slog(&quot;Start initializing&quot;);" />
    <If Condition="!(bool)Settings[&quot;Options Configured&quot;]" IgnoreCanRun="True">
      <CustomAction Code="MessageBox.Show(&quot;Please, press 'Bot Config' button \n Check configurations and enable 'Options Configured' ...EXITING&quot;);" />
      <CustomAction Code="TreeRoot.Stop();" />
    </If>
    <If Condition="(Int32)Settings[&quot;Farm Time&quot;] &lt; 5 || (Int32)Settings[&quot;Farm Time&quot;] &gt; 30" IgnoreCanRun="True">
      <CustomAction Code="MessageBox.Show(&quot;Farm time must be from 5 to 30..EXITING&quot;);" />
      <CustomAction Code="TreeRoot.Stop();" />
    </If>
    <If Condition="!(bool)Settings[&quot;Excess Mats To AH&quot;] &amp;&amp; !(bool)Settings[&quot;Excess Mats To GBank&quot;] &amp;&amp; !(bool)Settings[&quot;Excess Mats To Mailbox&quot;]" IgnoreCanRun="True">
      <CustomAction Code="MessageBox.Show(&quot;There is none selected option for excess mats..EXITING&quot;);" />
      <CustomAction Code="TreeRoot.Stop();" />
    </If>
    <If Condition="(bool)Settings[&quot;Excess Mats To AH&quot;] &amp;&amp; (bool)Settings[&quot;Excess Mats To GBank&quot;]" IgnoreCanRun="True">
      <CustomAction Code="MessageBox.Show(&quot;There is more than one option for excess mats selected..EXITING&quot;);" />
      <CustomAction Code="TreeRoot.Stop();" />
    </If>
    <If Condition="(bool)Settings[&quot;Excess Mats To AH&quot;] &amp;&amp; (bool)Settings[&quot;Excess Mats To Mailbox&quot;]" IgnoreCanRun="True">
      <CustomAction Code="MessageBox.Show(&quot;There is more than one option for excess mats selected..EXITING&quot;);" />
      <CustomAction Code="TreeRoot.Stop();" />
    </If>
    <If Condition="(bool)Settings[&quot;Excess Mats To GBank&quot;] &amp;&amp; (bool)Settings[&quot;Excess Mats To Mailbox&quot;]" IgnoreCanRun="True">
      <CustomAction Code="MessageBox.Show(&quot;There is more than one option for excess mats selected..EXITING&quot;);" />
      <CustomAction Code="TreeRoot.Stop();" />
    </If>
    <If Condition="(bool)Settings[&quot;Excess Mats To Mailbox&quot;] &amp;&amp; (string)Settings[&quot;Mail Recipent&quot;]==&quot;Character Name&quot;" IgnoreCanRun="True">
      <CustomAction Code="MessageBox.Show(&quot;The option for excess mats is selected to use Mailbox, but there is no alt name defined..EXITING&quot;);" />
      <CustomAction Code="TreeRoot.Stop();" />
    </If>
    <CallSubRoutine SubRoutineName="Move Main City" />
    <If Condition="(int)HaveQuest() == 1" IgnoreCanRun="True">
      <CallSubRoutine SubRoutineName="Move To Bank" />
      <PutItemInBankAction Category="Quest" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="True" Bank="Personal" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
    </If>
    <CallSubRoutine SubRoutineName="Check Train Mining" />
    <CallSubRoutine SubRoutineName="Check Train Blacksmithing" />
    <If Condition="(bool)Settings[&quot;Use HS&quot;]" IgnoreCanRun="True">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Use HS enabled, saving at inn.&quot;);" />
      </If>
      <CallSubRoutine SubRoutineName="Save at Inn" />
      <WaitAction Condition="false" Timeout="2000" />
    </If>
    <CallSubRoutine SubRoutineName="Needed Tools" />
    <CustomAction Code="slog(&quot;Done initializing&quot;);" />
    <CallSubRoutine SubRoutineName="SELL ROUTINE" />
  </SubRoutine>
  <SubRoutine SubRoutineName="MAIN ROUTINE">
    <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
      <CustomAction Code="dlog(&quot;Loaded main routine.&quot;);" />
    </If>
    <!--Start-->
    <CustomAction Code="var2 = 0;" />
    <While Condition="Mining.Level &lt; 300 &amp;&amp; Blacksmithing.Level &lt; 300" IgnoreCanRun="True">
      <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
        <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
          <CustomAction Code="dlog(&quot;Bags are near full loading sell routine.&quot;);" />
        </If>
        <CallSubRoutine SubRoutineName="SELL ROUTINE" />
      </If>
      <CallSubRoutine SubRoutineName="Check Needs" />
      <CallSubRoutine SubRoutineName="MINING ROUTINE" />
      <CallSubRoutine SubRoutineName="EXTRAS ROUTINE" />
      <CallSubRoutine SubRoutineName="SELL ROUTINE" />
      <CallSubRoutine SubRoutineName="BLACKSMITHING ROUTINE" />
      <CallSubRoutine SubRoutineName="SELL ROUTINE" />
      <CallSubRoutine SubRoutineName="Clean WhatWhereTill" />
    </While>
  </SubRoutine>
  <SubRoutine SubRoutineName="MINING ROUTINE">
    <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
      <CustomAction Code="dlog(&quot;Loaded mining routine.&quot;);" />
    </If>
    <If Condition="(int)Settings[&quot;MapToFarm&quot;] == 0" IgnoreCanRun="True">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;no map selected, checking needs.&quot;);" />
      </If>
      <CallSubRoutine SubRoutineName="Check Needs" />
    </If>
    <CallSubRoutine SubRoutineName="Mining Sub1 1_50" />
    <CallSubRoutine SubRoutineName="Mining Sub2 Copper" />
    <If Condition="Blacksmithing.Level &gt;= 75" IgnoreCanRun="True">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Blacksmithing is over lvl75 loading mining sub3 and mining sub4.&quot;);" />
      </If>
      <CallSubRoutine SubRoutineName="Mining Sub3 50_100" />
      <CallSubRoutine SubRoutineName="Mining Sub4 Tin" />
    </If>
    <If Condition="Blacksmithing.Level &gt;= 125" IgnoreCanRun="True">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Blacksmithing is over lvl125 loading mining sub5 and mining sub6.&quot;);" />
      </If>
      <CallSubRoutine SubRoutineName="Mining Sub5 100_150" />
      <CallSubRoutine SubRoutineName="Mining Sub6 Iron" />
    </If>
    <If Condition="Blacksmithing.Level &gt;= 200" IgnoreCanRun="True">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Blacksmithing is over lvl200 loading mining sub7 and mining sub8.&quot;);" />
      </If>
      <CallSubRoutine SubRoutineName="Mining Sub7 150_200" />
      <CallSubRoutine SubRoutineName="Mining Sub8 Mithril" />
    </If>
    <If Condition="Blacksmithing.Level &gt;= 250" IgnoreCanRun="True">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Blacksmithing is over lvl250 loading mining sub9 and mining sub10.&quot;);" />
      </If>
      <CallSubRoutine SubRoutineName="Mining Sub9 200_300" />
      <CallSubRoutine SubRoutineName="Mining Sub10 Thorium" />
    </If>
  </SubRoutine>
  <SubRoutine SubRoutineName="EXTRAS ROUTINE">
    <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
      <CustomAction Code="dlog(&quot;Loaded extras routine.&quot;);" />
    </If>
  </SubRoutine>
  <SubRoutine SubRoutineName="BLACKSMITHING ROUTINE">
    <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
      <CustomAction Code="dlog(&quot;Loaded blacksmithing routine.&quot;);" />
    </If>
    <If Condition="Mining.Level &gt;= 50 &amp;&amp; Blacksmithing.Level &lt; 75 &amp;&amp; (int)Settings[&quot;RoughStoneNeed&quot;] &lt;= 0 &amp;&amp; (int)Settings[&quot;CopperNeed&quot;] &lt;= 0" IgnoreCanRun="True">
      <CallSubRoutine SubRoutineName="Load Craft Profile" />
    </If>
    <If Condition="Mining.Level &gt;= 100 &amp;&amp; Blacksmithing.Level &gt;= 75 &amp;&amp; Blacksmithing.Level &lt; 125 &amp;&amp; (int)Settings[&quot;CoarseStoneNeed&quot;] &lt;= 0 &amp;&amp; (int)Settings[&quot;SilverNeed&quot;] &lt;= 0 &amp;&amp; (int)Settings[&quot;RoughStoneNeed&quot;] &lt;= 0 &amp;&amp; (int)Settings[&quot;TinNeed&quot;] &lt;= 0 &amp;&amp; (int)Settings[&quot;CopperNeed&quot;] &lt;= 0" IgnoreCanRun="True">
      <CallSubRoutine SubRoutineName="Load Craft Profile" />
    </If>
    <If Condition="Mining.Level &gt;= 150 &amp;&amp; Blacksmithing.Level &gt;= 125 &amp;&amp; Blacksmithing.Level &lt; 200 &amp;&amp; (int)Settings[&quot;HeavyStoneNeed&quot;]  &lt;= 0 &amp;&amp; (int)Settings[&quot;TinNeed&quot;]  &lt;= 0 &amp;&amp; (int)Settings[&quot;CopperNeed&quot;]  &lt;= 0 &amp;&amp; (int)Settings[&quot;IronNeed&quot;]  &lt;= 0 &amp;&amp; (int)Settings[&quot;CoarseStoneNeed&quot;]  &lt;= 0" IgnoreCanRun="True">
      <CallSubRoutine SubRoutineName="Load Craft Profile" />
    </If>
    <If Condition="Mining.Level &gt;= 200 &amp;&amp; Blacksmithing.Level &gt;= 200 &amp;&amp; Blacksmithing.Level &lt; 250 &amp;&amp; (int)Settings[&quot;SolidStoneNeed&quot;]  &lt;= 0 &amp;&amp; (int)Settings[&quot;MithrilNeed&quot;]  &lt;= 0" IgnoreCanRun="True">
      <CallSubRoutine SubRoutineName="Load Craft Profile" />
    </If>
    <If Condition="Mining.Level &gt;= 275 &amp;&amp; Blacksmithing.Level &gt;= 250 &amp;&amp; Blacksmithing.Level &lt; 300 &amp;&amp; (int)Settings[&quot;DenseStoneNeed&quot;]  &lt;= 0 &amp;&amp; (int)Settings[&quot;ThoriumNeed&quot;]  &lt;= 0 &amp;&amp; (int)Settings[&quot;StarRubyNeed&quot;]  &lt;= 0" IgnoreCanRun="True">
      <CallSubRoutine SubRoutineName="Load Craft Profile" />
    </If>
  </SubRoutine>
  <SubRoutine SubRoutineName="SELL ROUTINE">
    <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
      <CustomAction Code="dlog(&quot;Loaded sell routine.&quot;);" />
    </If>
    <CallSubRoutine SubRoutineName="Move Main City" />
    <CallSubRoutine SubRoutineName="Sell Trash" />
    <CallSubRoutine SubRoutineName="Smelt" />
    <CallSubRoutine SubRoutineName="Put in Bank" />
    <CallSubRoutine SubRoutineName="Withdrawn From Bank" />
    <CallSubRoutine SubRoutineName="Get Mail" />
    <CallSubRoutine SubRoutineName="Remove Excess" />
    <CallSubRoutine SubRoutineName="Check Needs" />
  </SubRoutine>
  <SubRoutine SubRoutineName="FINAL ROUTINE">
    <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
      <CustomAction Code="dlog(&quot;Loaded final routine.&quot;);" />
    </If>
    <CustomAction Code="MessageBox.Show(&quot;Congratulations,\n
      Mining and Blacksmithing are raised till level 300\n
      Contact Cava if you like know more about 1 to 600 profiles...&quot;);" />
    <CustomAction Code="TreeRoot.Stop();" />
  </SubRoutine>
  <SubRoutine SubRoutineName="Mining Subs">
    <SubRoutine SubRoutineName="Mining Sub1 1_50">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded mining sub1 routine.&quot;);" />
      </If>
      <While Condition="Mining.Level &lt; 50" IgnoreCanRun="True">
        <While Condition="Mining.Level &lt; 50 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2770;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 50;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="SELL ROUTINE" />
        </If>
      </While>
    </SubRoutine>
    <SubRoutine SubRoutineName="Mining Sub2 Copper">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded mining sub2 routine.&quot;);" />
      </If>
      <While Condition="(InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;]) || (InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;])" IgnoreCanRun="True">
        <While Condition="Mining.Level &lt; 75 &amp;&amp; (InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2770;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 75;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &lt; 75 &amp;&amp; (InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2770;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 75;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="SELL ROUTINE" />
        </If>
        <CallSubRoutine SubRoutineName="Check Train Mining" />
        <While Condition="Mining.Level &gt;= 75 &amp;&amp; (InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2770;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &gt;= 75 &amp;&amp; (InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2770;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="SELL ROUTINE" />
        </If>
        <CallSubRoutine SubRoutineName="Check Train Mining" />
      </While>
    </SubRoutine>
    <SubRoutine SubRoutineName="Mining Sub3 50_100">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded mining sub3 routine.&quot;);" />
      </If>
      <While Condition="Mining.Level &lt; 100" IgnoreCanRun="True">
        <While Condition="Mining.Level &lt; 100 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2771;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 100;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="SELL ROUTINE" />
        </If>
      </While>
      <CallSubRoutine SubRoutineName="Check Train Mining" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Mining Sub4 Tin">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded mining sub4 routine.&quot;);" />
      </If>
      <While Condition="InbagCount(2771) &lt; (int)Settings[&quot;TinNeed&quot;] || InbagCount(2775) &lt; (int)Settings[&quot;SilverNeed&quot;] || InbagCount(2836) &lt; (int)Settings[&quot;CoarseStoneNeed&quot;]" IgnoreCanRun="True">
        <While Condition="Mining.Level &lt; 150 &amp;&amp; (InbagCount(2771) &lt; (int)Settings[&quot;TinNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2771;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 150;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &lt; 150 &amp;&amp; (InbagCount(2775) &lt; (int)Settings[&quot;SilverNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2771;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 150;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &lt; 150 &amp;&amp; (InbagCount(2836) &lt; (int)Settings[&quot;CoarseStoneNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2771;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 150;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <CallSubRoutine SubRoutineName="Check Train Mining" />
        <While Condition="Mining.Level &gt;= 150 &amp;&amp; (InbagCount(2771) &lt; (int)Settings[&quot;TinNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2771;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &gt;= 150 &amp;&amp; (InbagCount(2775) &lt; (int)Settings[&quot;SilverNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2771;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &gt;= 150 &amp;&amp; (InbagCount(2836) &lt; (int)Settings[&quot;CoarseStoneNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2771;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="SELL ROUTINE" />
        </If>
      </While>
    </SubRoutine>
    <SubRoutine SubRoutineName="Mining Sub5 100_150">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded mining sub5 routine.&quot;);" />
      </If>
      <While Condition="Mining.Level &lt; 150" IgnoreCanRun="True">
        <While Condition="Mining.Level &lt; 150 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2772;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 150;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="SELL ROUTINE" />
        </If>
      </While>
      <CallSubRoutine SubRoutineName="Check Train Mining" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Mining Sub6 Iron">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded mining sub6 routine.&quot;);" />
      </If>
      <While Condition="InbagCount(2772) &lt; (int)Settings[&quot;IronNeed&quot;] || InbagCount(2838) &lt; (int)Settings[&quot;HeavyStoneNeed&quot;]" IgnoreCanRun="True">
        <While Condition="Mining.Level &lt; 225 &amp;&amp; (InbagCount(2772) &lt; (int)Settings[&quot;IronNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2772;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 225;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &lt; 225 &amp;&amp; (InbagCount(2838) &lt; (int)Settings[&quot;HeavyStoneNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2772;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 225;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <CallSubRoutine SubRoutineName="Check Train Mining" />
        <While Condition="Mining.Level &gt;= 225 &amp;&amp; (InbagCount(2772) &lt; (int)Settings[&quot;IronNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2772;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &gt;= 225 &amp;&amp; (InbagCount(2838) &lt; (int)Settings[&quot;HeavyStoneNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 2772;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="SELL ROUTINE" />
        </If>
      </While>
    </SubRoutine>
    <SubRoutine SubRoutineName="Mining Sub7 150_200">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded mining sub7 routine.&quot;);" />
      </If>
      <While Condition="Mining.Level &lt; 200" IgnoreCanRun="True">
        <While Condition="Mining.Level &lt; 200 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 3858;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 200;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="SELL ROUTINE" />
        </If>
      </While>
    </SubRoutine>
    <SubRoutine SubRoutineName="Mining Sub8 Mithril">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded mining sub8 routine.&quot;);" />
      </If>
      <While Condition="InbagCount(3858) &lt; (int)Settings[&quot;MithrilNeed&quot;] || InbagCount(7912) &lt; (int)Settings[&quot;SolidStoneNeed&quot;]" IgnoreCanRun="True">
        <While Condition="Mining.Level &lt; 225 &amp;&amp; (InbagCount(3858) &lt; (int)Settings[&quot;MithrilNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 3858;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 225;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &lt; 225 &amp;&amp; (InbagCount(7912) &lt; (int)Settings[&quot;SolidStoneNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 3858;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 225;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <CallSubRoutine SubRoutineName="Check Train Mining" />
        <While Condition="Mining.Level &gt;= 225 &amp;&amp; (InbagCount(3858) &lt; (int)Settings[&quot;MithrilNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 3858;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &gt;= 225 &amp;&amp; (InbagCount(7912) &lt; (int)Settings[&quot;SolidStoneNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 3858;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="SELL ROUTINE" />
        </If>
      </While>
    </SubRoutine>
    <SubRoutine SubRoutineName="Mining Sub9 200_300">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded mining sub9 routine.&quot;);" />
      </If>
      <While Condition="Mining.Level &lt; 300" IgnoreCanRun="True">
        <While Condition="Mining.Level &lt; 300 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 10620;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 300;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="SELL ROUTINE" />
        </If>
      </While>
    </SubRoutine>
    <SubRoutine SubRoutineName="Mining Sub10 Thorium">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded mining sub10 routine.&quot;);" />
      </If>
      <While Condition="InbagCount(10620) &lt; (int)Settings[&quot;ThoriumNeed&quot;] || InbagCount(12365) &lt; (int)Settings[&quot;DenseStoneNeed&quot;] || InbagCount(7910) &lt; (int)Settings[&quot;StarRubyNeed&quot;]" IgnoreCanRun="True">
        <While Condition="Mining.Level &lt; 300 &amp;&amp; (InbagCount(10620) &lt; (int)Settings[&quot;ThoriumNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 10620;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 300;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &lt; 300 &amp;&amp; (InbagCount(12365) &lt; (int)Settings[&quot;DenseStoneNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 10620;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 300;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="Mining.Level &lt; 300 &amp;&amp; (InbagCount(7910) &lt; (int)Settings[&quot;StarRubyNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 10620;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 300;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="(InbagCount(10620) &lt; (int)Settings[&quot;ThoriumNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 10620;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="(InbagCount(12365) &lt; (int)Settings[&quot;DenseStoneNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 10620;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <While Condition="(InbagCount(7910) &lt; (int)Settings[&quot;StarRubyNeed&quot;]) &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 10620;" />
          <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
          <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 9999;" />
          <CallSubRoutine SubRoutineName="Select GoTo Farm" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="SELL ROUTINE" />
        </If>
      </While>
    </SubRoutine>

  </SubRoutine>
  <SubRoutine SubRoutineName="Move To Subs">
    <SubRoutine SubRoutineName="Move EK_Kalindor_Stormwind_Darkshore">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move EK_Kalindor_Stormwind_Darkshore routine.&quot;);" />
      </If>
      <CustomAction Code="slog(&quot;Switching to Kalimdor.&quot;);" />
      <CustomAction Code="FarmTime.Reset();" />
      <FlyToAction Dismount="True" Location="-8639.127, 1318.481, 5.536827" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176310 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176310 ).Location.Distance(new WoWPoint(-8650.719, 1346.051, 0.04130154)) &lt; 3" Timeout="6000000" />
      <CustomAction Code="CTM(-8643.842, 1346.472, 6.182805);" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176310 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176310 ).Location.Distance(new WoWPoint(8162.587, 1005.365, -0.02063938)) &lt; 3 &amp;&amp; Me.MapId == 1" Timeout="6000000" />
      <MoveToAction Location="8182.833, 999.076, 7.302422" MoveType="Location" Pathing="ClickToMove" Entry="0" />
      <FlyToAction Dismount="False" Location="8183.933, 967.5417, 49.29631" />
      <FlyToAction Dismount="True" Location="8383.156, 982.5832, 30.82965" />
      <!--<LoadProfileAction ProfileType="Professionbuddy" Path="EK_Kalindor_SD_Base.xml" />
      <CustomAction Code="TreeRoot.Stop();" />-->
      <While Condition="!Me.OnTaxi" IgnoreCanRun="True">
        <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWUnit&gt;().Any(o =&gt; o.Entry == 3838 &amp;&amp; o.IsAlive ) != null" Timeout="6000000" />
        <CustomAction Code="var5 = (bool)tryUseTaxi(3838,1);" />
        <CustomAction Code="Thread.Sleep(5000);" />
      </While>
      <CustomAction Code="Thread.Sleep(10000);" />
      <While Condition="Me.OnTaxi" IgnoreCanRun="True">
      </While>
    </SubRoutine>
    <SubRoutine SubRoutineName="Move Kalindor_EK_Darkshore_Stormwind">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move Kalindor_EK_Darkshore_Stormwind routine.&quot;);" />
      </If>
      <CustomAction Code="slog(&quot;Switching to Eastern Kingdoms..&quot;);" />
      <CustomAction Code="FarmTime.Reset();" />
      <If Condition="Me.MapId == 1 &amp;&amp; Me.ZoneId != 141" IgnoreCanRun="True">
        <FlyToAction Dismount="True" Location="7459.9, -326.56, 8.09" />
        <!--<LoadProfileAction ProfileType="Professionbuddy" Path="Kalindor_EK_DS_Base.xml" />
        <CustomAction Code="TreeRoot.Stop();" />-->
        <While Condition="!Me.OnTaxi" IgnoreCanRun="True">
          <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWUnit&gt;().Any(o =&gt; o.Entry == 3841 &amp;&amp; o.IsAlive ) != null" Timeout="6000000" />
          <CustomAction Code="var5 = (bool)tryUseTaxi(3841,2);" />
          <CustomAction Code="Thread.Sleep(5000);" />
        </While>
        <CustomAction Code="Thread.Sleep(10000);" />
        <While Condition="Me.OnTaxi" IgnoreCanRun="True">
        </While>
        <FlyToAction Dismount="True" Location="8177.59, 1002.69, 6.671073" />
      </If>
      <If Condition="Me.MapId == 1 &amp;&amp; Me.ZoneId == 141" IgnoreCanRun="True">
        <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176310 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176310 ).Location.Distance(new WoWPoint(8162.587, 1005.365, -0.02063938)) &lt; 3" Timeout="6000000" />
        <CustomAction Code="CTM(8168.902, 1005.917, 6.204763);" />
        <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176310 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176310 ).Location.Distance(new WoWPoint(-8650.719, 1346.051, 0.04130154)) &lt; 3 &amp;&amp; Me.MapId == 0" Timeout="6000000" />
        <MoveToAction Location="-8640.046, 1326.006, 5.233113" MoveType="Location" Pathing="ClickToMove" Entry="0" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Move EK_Kalindor_Menethil_Theramore">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move EK_Kalindor_Menethil_Theramore routine.&quot;);" />
      </If>
      <CustomAction Code="slog(&quot;Switching to Kalimdor.&quot;);" />
      <FlyToAction Dismount="True" Location="-3868.445, -657.6415, 5.428801" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176231 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176231 ).Location.Distance(new WoWPoint(-3872.35, -639.9439, -0.02392804)) &lt; 3" Timeout="6000000" />
      <CustomAction Code="CTM(-3865.537, -635.6641, 6.031949);" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176231 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176231 ).Location.Distance(new WoWPoint(-4016.39, -4740.588, -0.02566458)) &lt; 3 &amp;&amp; Me.MapId == 1" Timeout="6000000" />
      <MoveToAction Location="-4004.803, -4727.932, 4.586611" MoveType="Location" Pathing="ClickToMove" Entry="0" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Move Kalindor_EK_Theramore_Menethil">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move Kalindor_EK_Theramore_Menethil routine.&quot;);" />
      </If>
      <CustomAction Code="slog(&quot;Switching to Eastern Kingdoms.&quot;);" />
      <FlyToAction Dismount="True" Location="-4009.449, -4725.902, 4.699991" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176231 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176231 ).Location.Distance(new WoWPoint(-4016.39, -4740.588, -0.04864015)) &lt; 3" Timeout="6000000" />
      <CustomAction Code="CTM(-4011.444, -4744.56, 6.033038);" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176231 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 176231 ).Location.Distance(new WoWPoint(-3872.35, -639.9439, -0.02392804)) &lt; 3 &amp;&amp; Me.MapId == 0" Timeout="6000000" />
      <MoveToAction Location="-3863.753, -655.2289, 5.414529" MoveType="Location" Pathing="ClickToMove" Entry="0" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Move EK_Kalindor_GromgolBaseCamp_Orgrimmar">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move EK_Kalindor_GromgolBaseCamp_Orgrimmar routine.&quot;);" />
      </If>
      <CustomAction Code="slog(&quot;Switching to Kalimdor.&quot;);" />
      <FlyToAction Dismount="True" Location="-12446.25, 216.3512, 31.52748" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 175080 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 175080 ).Location.Distance(new WoWPoint(-12464.34, 233.1597, 49.53437)) &lt; 3 &amp;&amp; Me.MapId == 0" Timeout="6000000" />
      <CustomAction Code="CTM(-12455.66, 222.6899, 31.77196);" />
      <WaitAction Condition="Me.MapId == 1" Timeout="10000000" />
      <CustomAction Code="Thread.Sleep(5000);" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 175080 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 175080 ).Location.Distance(new WoWPoint(1880.818, -4435.269, 152.8608)) &lt; 3" Timeout="6000000" />
      <MoveToAction Location="1864.878, -4414.582, 135.2331" MoveType="Location" Pathing="ClickToMove" Entry="0" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Move Kalindor_EK_Orgrimmar_GromgolBaseCamp">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move Kalindor_EK_Orgrimmar_GromgolBaseCamp routine.&quot;);" />
      </If>
      <CustomAction Code="slog(&quot;Switching to Eastern Kingdoms.&quot;);" />
      <FlyToAction Dismount="True" Location="1864.878, -4414.582, 135.2331" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 175080 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 175080 ).Location.Distance(new WoWPoint(1880.818, -4435.269, 152.8608)) &lt; 3 &amp;&amp; Me.MapId == 1" Timeout="6000000" />
      <CustomAction Code="CTM(1874.667, -4423.675, 135.1214);" />
      <WaitAction Condition="Me.MapId == 0" Timeout="10000000" />
      <CustomAction Code="Thread.Sleep(5000);" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 175080 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 175080 ).Location.Distance(new WoWPoint(-12464.34, 233.1597, 49.53437)) &lt; 3" Timeout="6000000" />
      <MoveToAction Location="-12446.41, 217.9426, 31.5501" MoveType="Location" Pathing="ClickToMove" Entry="0" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Move EK_Kalindor_Brill_Orgrimmar">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move EK_Kalindor_Brill_Orgrimmar routine.&quot;);" />
      </If>
      <FlyToAction Dismount="True" Location="2065.385, 283.6125, 97.01198" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 164871) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 164871).Location.Distance(new WoWPoint(2062.376, 292.998, 114.973)) &lt; 2 &amp;&amp; Me.MapId == 0" Timeout="6000000" />
      <CustomAction Code="CTM(2068.048, 295.7675, 97.24749);" />
      <WaitAction Condition="Me.MapId == 1" Timeout="10000000" />
      <CustomAction Code="Thread.Sleep(5000);" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 164871 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 164871 ).Location.Distance(new WoWPoint(1833.509, -4391.543, 152.7679)) &lt; 2" Timeout="6000000" />
      <MoveToAction Location="1840.743, -4390.931, 135.233" MoveType="Location" Pathing="ClickToMove" Entry="0" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Move Kalindor_EK_Orgrimmar_Brill">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move Move Kalindor_EK_Orgrimmar_Brill routine.&quot;);" />
      </If>
      <FlyToAction Dismount="True" Location="1843.556, -4394.349, 135.233" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 164871 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 164871 ).Location.Distance(new WoWPoint(1833.509, -4391.543, 152.7679)) &lt; 2 &amp;&amp; Me.MapId == 1" Timeout="6000000" />
      <CustomAction Code="CTM(1834.835, -4385.649, 135.0326);" />
      <WaitAction Condition="Me.MapId == 0" Timeout="10000000" />
      <CustomAction Code="Thread.Sleep(5000);" />
      <WaitAction Condition="ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 164871 ) != null &amp;&amp; ObjectManager.GetObjectsOfType&lt;WoWGameObject&gt;().FirstOrDefault(o =&gt; o.Entry == 164871 ).Location.Distance(new WoWPoint(2062.376, 292.998, 114.973)) &lt; 2" Timeout="6000000" />
      <MoveToAction Location="2066.423, 287.6489, 97.03136" MoveType="Location" Pathing="ClickToMove" Entry="0" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Move To Bank">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move To Bank routine.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to bank at 'The Dwarven Destrict'.&quot;);" />
        <If Condition="DistanceTo(-8310.676, 577.9235, 100.3048) &gt; 60" IgnoreCanRun="True">
          <While Condition="DistanceTo(-8345.663, 621.6138, 96.07644) &gt; 5" IgnoreCanRun="True">
            <FlyToAction Dismount="True" Location="-8345.663, 621.6138, 96.07644" />
          </While>
          <CustomAction Code="var9 = rnd.Next(700);" />
          <If Condition="(int)var9 &lt;= 100" IgnoreCanRun="True">
            <MoveToAction Location="-8324.74, 604.218, 99.68425" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="SwBank1.xml" />
          </If>
          <If Condition="(int)var9 &gt; 100 &amp;&amp; (int)var9 &lt;= 200" IgnoreCanRun="True">
            <MoveToAction Location="-8320.722, 600.137, 99.66592" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="SwBank2.xml" />
          </If>
          <If Condition="(int)var9 &gt; 200 &amp;&amp; (int)var9 &lt;= 300" IgnoreCanRun="True">
            <MoveToAction Location="-8316.812, 595.1612, 99.66646" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="SwBank3.xml" />
          </If>
          <If Condition="(int)var9 &gt; 300 &amp;&amp; (int)var9 &lt;= 400" IgnoreCanRun="True">
            <MoveToAction Location="-8326.801, 587.6045, 99.6609" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="SwBank4.xml" />
          </If>
          <If Condition="(int)var9 &gt; 400 &amp;&amp; (int)var9 &lt;= 500" IgnoreCanRun="True">
            <MoveToAction Location="-8330.598, 592.3568, 99.66071" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="SwBank5.xml" />
          </If>
          <If Condition="(int)var9 &gt; 500 &amp;&amp; (int)var9 &lt;= 600" IgnoreCanRun="True">
            <MoveToAction Location="-8334.195, 596.9282, 99.66006" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="SwBank6.xml" />
          </If>
          <If Condition="(int)var9 &gt; 600" IgnoreCanRun="True">
            <MoveToAction Location="-8310.676, 577.9235, 100.3048" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="SwBank7.xml" />
          </If>
        </If>
      </If>
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to bank at 'The Valley Of honor'.&quot;);" />
        <If Condition="DistanceTo(1870.537, -4684.5, 38.55014) &gt; 50" IgnoreCanRun="True">
          <While Condition="DistanceTo(1911.259, -4683.458, 35.38358) &gt; 5" IgnoreCanRun="True">
            <FlyToAction Dismount="True" Location="1911.259, -4683.458, 35.38358" />
          </While>
          <CustomAction Code="var9 = rnd.Next(400);" />
          <If Condition="(int)var9 &lt;= 100" IgnoreCanRun="True">
            <MoveToAction Location="1875.562, -4687.534, 38.50147" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="OrgBank1.xml" />
          </If>
          <If Condition="(int)var9 &gt; 100 &amp;&amp; (int)var9 &lt;= 200" IgnoreCanRun="True">
            <MoveToAction Location="1870.846, -4684.877, 38.53323" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="OrgBank2.xml" />
          </If>
          <If Condition="(int)var9 &gt; 200 &amp;&amp; (int)var9 &lt;= 300" IgnoreCanRun="True">
            <MoveToAction Location="1870.805, -4678.336, 38.55196" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="OrgBank3.xml" />
          </If>
          <If Condition="(int)var9 &gt; 300" IgnoreCanRun="True">
            <MoveToAction Location="1875.053, -4676.556, 38.50037" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="OrgBank4.xml" />
          </If>
        </If>
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Move to Mail">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move to Mail routine.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to mailbox at 'The Dwarven Destrict'.&quot;);" />
        <FlyToAction Dismount="True" Location="-8358.792, 618.2883, 95.39821" />
      </If>
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to mailbox at 'The Valley Of Honor'.&quot;);" />
        <FlyToAction Dismount="True" Location="2058.757, -4783.625, 29.13105" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Move to Vendor">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move to Vendor routine.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance" IgnoreCanRun="True">
        <FlyToAction Dismount="True" Location="-8430.279, 623.7834, 95.54025" />
      </If>
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <FlyToAction Dismount="True" Location="2048.109, -4828.162, 27.565" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Move to GreenEyeVendor">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move to GreenEyeVendor routine.&quot;);" />
      </If>
      <CustomAction Code="slog(&quot;buying Green Dye from vendor&quot;);" />
      <If Condition="Me.IsAlliance" IgnoreCanRun="True">
        <FlyToAction Dismount="False" Location="-8909.796, 794.1615, 142.8333" />
        <FlyToAction Dismount="True" Location="-8938.149, 773.1598, 89.4074" />
        <While Condition="InbagCount(2605) &lt; 35" IgnoreCanRun="True">
          <BuyItemAction NpcEntry="1347" Location="-8942.841, 799.5444, 90.94246" ItemID="2605" BuyItemType="SpecificItem" Count="35" BuyAdditively="False" />
        </While>
        <MoveToAction Location="-8938.149, 773.1598, 89.4074" MoveType="Location" Pathing="Navigator" Entry="0" />
        <FlyToAction Dismount="False" Location="-8909.796, 794.1615, 142.8333" />
        <FlyToAction Dismount="True" Location="-8419.098, 621.37, 95.58143" />
      </If>
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <FlyToAction Dismount="False" Location="1878.763, -4524.937, 119.5489" />
        <FlyToAction Dismount="True" Location="1803.011, -4531.015, 23.11243" />
        <While Condition="InbagCount(2605) &lt; 35" IgnoreCanRun="True">
          <BuyItemAction NpcEntry="3364" Location="1807.04, -4563.03, 23.00011" ItemID="2605" BuyItemType="SpecificItem" Count="35" BuyAdditively="False" />
        </While>
        <MoveToAction Location="1803.011, -4531.015, 23.11243" MoveType="Location" Pathing="Navigator" Entry="0" />
        <FlyToAction Dismount="False" Location="1878.763, -4524.937, 119.5489" />
        <FlyToAction Dismount="True" Location="2055.885, -4826.285, 29.96879" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Move To AH">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loaded Move to Move To AH routine.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to Action House at 'The Dwarven Destrict'.&quot;);" />
        <If Condition="DistanceTo(-8367.379, 673.7569, 97.2789) &gt; 60" IgnoreCanRun="True">
          <FlyToAction Dismount="True" Location="-8359.217, 639.1288, 95.2369" />
          <CustomAction Code="var9 = rnd.Next(300);" />
          <If Condition="(int)var9 &lt;= 100" IgnoreCanRun="True">
            <MoveToAction Location="-8372.952, 674.3042, 97.15529" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="SwAH1.xml" />
          </If>
          <If Condition="(int)var9 &gt; 100 &amp;&amp; (int)var9 &lt;= 200" IgnoreCanRun="True">
            <MoveToAction Location="-8368.12, 675.6595, 97.15529" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="SwAH2.xml" />
          </If>
          <If Condition="(int)var9 &gt; 200" IgnoreCanRun="True">
            <MoveToAction Location="-8362.906, 677.0549, 97.15529" MoveType="Location" Pathing="Navigator" Entry="0" />
            <LoadProfileAction ProfileType="Honorbuddy" Path="SwAH3.xml" />
          </If>
        </If>
      </If>
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to Action House at 'The Valley of Honor'.&quot;);" />
        <FlyToAction Dismount="True" Location="2029.591, -4679.519, 28.26021" />
        <CustomAction Code="var9 = rnd.Next(400);" />
        <If Condition="(int)var9 &lt;= 100" IgnoreCanRun="True">
          <MoveToAction Location="2064.105, -4659.952, 32.54309" MoveType="Location" Pathing="Navigator" Entry="0" />
          <LoadProfileAction ProfileType="Honorbuddy" Path="OrgAH1.xml" />
        </If>
        <If Condition="(int)var9 &gt; 100 &amp;&amp; (int)var9 &lt;= 200" IgnoreCanRun="True">
          <MoveToAction Location="2064.972, -4663.644, 32.53315" MoveType="Location" Pathing="Navigator" Entry="0" />
          <LoadProfileAction ProfileType="Honorbuddy" Path="OrgAH2.xml" />
        </If>
        <If Condition="(int)var9 &gt; 200 &amp;&amp; (int)var9 &lt;= 300" IgnoreCanRun="True">
          <MoveToAction Location="2066.435, -4667.618, 32.53175" MoveType="Location" Pathing="Navigator" Entry="0" />
          <LoadProfileAction ProfileType="Honorbuddy" Path="OrgAH3.xml" />
        </If>
        <If Condition="(int)var9 &gt; 300" IgnoreCanRun="True">
          <MoveToAction Location="2067.573, -4670.705, 32.54083" MoveType="Location" Pathing="Navigator" Entry="0" />
          <LoadProfileAction ProfileType="Honorbuddy" Path="OrgAH4.xml" />
        </If>
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Move Main City">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Move Main City.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance &amp;&amp; Me.ZoneId != 1519" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Moving to Stormwind&quot;);" />
        <If Condition="(bool)Settings[&quot;Use HS&quot;] &amp;&amp; HSCooldown() == 0 &amp;&amp; Me.HearthstoneAreaId == 5150" IgnoreCanRun="True">
          <CustomAction Code="Lua.DoString(&quot;UseHearthstone()&quot;);" />
          <WaitAction Condition="Me.ZoneId == 1519" Timeout="12000" />
        </If>
      </If>
      <If Condition="Me.IsHorde &amp;&amp; Me.ZoneId != 1637" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Moving to Orgrimmar&quot;);" />
        <If Condition="(bool)Settings[&quot;Use HS&quot;] &amp;&amp; HSCooldown() == 0 &amp;&amp; Me.HearthstoneAreaId == 5168" IgnoreCanRun="True">
          <CustomAction Code="Lua.DoString(&quot;UseHearthstone()&quot;);" />
          <WaitAction Condition="Me.ZoneId == 1637" Timeout="12000" />
        </If>
      </If>
      <If Condition="Me.ZoneId == 141" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Kalindor_EK_Darkshore_Stormwind" />
      </If>
      <If Condition="Me.MapId == 870" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Pandaria_MC" />
      </If>
      <If Condition="Me.ZoneId == 616" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Hyjal_MC" />
      </If>
      <If Condition="Me.ZoneId == 4922" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Twilight_MC" />
      </If>
      <If Condition="Me.ZoneId == 5042" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Deepholm_MC" />
      </If>
      <If Condition="Me.MapId == 571" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Northrend_MC" />
      </If>
      <If Condition="Me.MapId == 530" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Outlands_MC" />
      </If>
      <If Condition="Me.IsAlliance &amp;&amp; Me.ZoneId != 1519" IgnoreCanRun="True">
        <If Condition="Me.MapId == 1" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move Kalindor_EK_Darkshore_Stormwind" />
        </If>
        <If Condition="Me.MapId == 0 &amp;&amp; Me.ZoneId != 1519" IgnoreCanRun="True">
          <FlyToAction Dismount="True" Location="-8382.521, 617.4127, 95.66184" />
        </If>
        <If Condition="Me.ZoneId != 1519" IgnoreCanRun="True">
          <CustomAction Code="MessageBox.Show(&quot;Failed to move char to Stormwind, please manualy move it..EXITING&quot;);" />
          <CustomAction Code="TreeRoot.Stop();" />
        </If>
      </If>
      <If Condition="Me.IsHorde &amp;&amp; Me.ZoneId != 1637" IgnoreCanRun="True">
        <If Condition="Me.MapId == 1 &amp;&amp; Me.ZoneId != 1637" IgnoreCanRun="True">
          <FlyToAction Dismount="True" Location="2056.886, -4769.664, 27.85884" />
        </If>
        <If Condition="Me.MapId == 0 &amp;&amp; DistanceTo(-12446.25, 216.3512, 31.52748) &lt; DistanceTo(2066.941, 285.7291, 97.03172)" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move EK_Kalindor_GromgolBaseCamp_Orgrimmar" />
        </If>
        <If Condition="Me.MapId == 0 &amp;&amp; DistanceTo(2066.941, 285.7291, 97.03172) &lt; DistanceTo(-12446.25, 216.3512, 31.52748)" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move EK_Kalindor_Brill_Orgrimmar" />
        </If>
        <If Condition="Me.ZoneId != 1637" IgnoreCanRun="True">
          <CustomAction Code="MessageBox.Show(&quot;Failed to move char to Orgrimmar, please manualy move it..EXITING&quot;);" />
          <CustomAction Code="TreeRoot.Stop();" />
        </If>
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Move To Forge">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Move To Forge.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance" IgnoreCanRun="True">
        <FlyToAction Dismount="True" Location="-8420.148, 620.2996, 95.55436" />
        <TrainSkillAction NpcEntry="5511" Location="-8424.496, 616.8224, 95.4668" />
        <LoadProfileAction ProfileType="Honorbuddy" Path="StormwindForge.xml" />
      </If>
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <FlyToAction Dismount="True" Location="2055.761, -4827.665, 27.47184" />
        <TrainSkillAction NpcEntry="7230" Location="2056.528, -4826.787, 27.47173" />
        <LoadProfileAction ProfileType="Honorbuddy" Path="OrgrimmarForge.xml" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Move To GB">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Move To GB.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance" IgnoreCanRun="True" />
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <FlyToAction Dismount="True" Location="2028.348, -4680.067, 28.27628" />
        <MoveToAction Location="1885.072, -4687.647, 38.50054" MoveType="Location" Pathing="Navigator" Entry="0" />
      </If>
    </SubRoutine>
  </SubRoutine>
  <SubRoutine SubRoutineName="Sell Subs">
    <SubRoutine SubRoutineName="Put extra in AH">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Put extra in AH routine.&quot;);" />
      </If>
      <CustomAction Code="var5 = 0;" />
      <CustomAction Code="var5 = (int)var5 + (int)HaveArmor() + (int)HaveGem() + (int)HaveGlyph() + (int)HaveKey() + (int)HaveMiscellaneous() + (int)HaveQuiver() + (int)HaveReagent() + (int)HaveRecipe() + (int)HaveTradeGoods() + (int)HaveWeapon();" />
      <If Condition="(int)var5 > 0" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to sell itens in Auction House.&quot;);" />
        <SellItemOnAhAction Category="Armor" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <!--  <SellItemOnAhAction Category="Container" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />-->
        <SellItemOnAhAction Category="Gem" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Glyph" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Key" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Miscellaneous" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Quiver" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Reagent" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Recipe" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Potion" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="ItemEnchantment" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Scroll" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Elixir" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Flask" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Other" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Mace" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="AxeTwoHand" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Bow" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Crossbow" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Dagger" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Exotic" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="ExoticTwoHand" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="FishingPole" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Fist" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Gun" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="MaceTwoHand" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Polearm" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Spear" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Staff" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Sword" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="SwordTwoHand" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Thrown" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
        <SellItemOnAhAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Wand" UseCategory="True" RunTime="_24_Hours" AmountType="Everything" ItemID="" MinBuyout="0g10s0c" MaxBuyout="60g0s0c" StackSize="20" IgnoreStackSizeBelow="1" Amount="10" BidPrecent="95" UndercutPrecent="0.001" AutoFindAh="True" PostPartialStacks="True" PostIfBelowMinBuyout="True" Location="0, 0, 0" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Put extra in GB">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Put extra in GB routine.&quot;);" />
      </If>
      <CustomAction Code="var5 = 0;" />
      <CustomAction Code="var5 = (int)var5 + (int)HaveArmor() + (int)HaveGem() + (int)HaveGlyph() + (int)HaveKey() + (int)HaveMiscellaneous() + (int)HaveQuiver() + (int)HaveReagent() + (int)HaveRecipe() + (int)HaveTradeGoods() + (int)HaveWeapon();" />
      <If Condition="(int)var5 > 0" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to drop itens in Guild Bank.&quot;);" />
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="Armor" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Container" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Gem" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Glyph" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Key" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Miscellaneous" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Quiver" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Reagent" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Recipe" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Potion" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="ItemEnchantment" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Scroll" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Elixir" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Flask" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Other" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Mace" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Axe" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="AxeTwoHand" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Bow" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Crossbow" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Dagger" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Exotic" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="ExoticTwoHand" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="FishingPole" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Fist" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Gun" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="MaceTwoHand" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Polearm" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Spear" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Staff" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Sword" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="SwordTwoHand" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Thrown" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Wand" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
        <PutItemInBankAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Misc" Deposit="All" UseCategory="True" Bank="Guild" ItemID="" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Put extra in Mail">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Put extra in Mail routine.&quot;);" />
      </If>
      <CustomAction Code="var5 = 0;" />
      <CustomAction Code="var5 = (int)var5 + (int)HaveArmor() + (int)HaveGem() + (int)HaveGlyph() + (int)HaveKey() + (int)HaveMiscellaneous() + (int)HaveQuiver() + (int)HaveReagent() + (int)HaveRecipe() + (int)HaveTradeGoods() + (int)HaveWeapon();" />
      <If Condition="(int)var5 > 0" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to mail Itens to an alt char.&quot;);" />
        <CustomAction Code="CharacterSettings.Instance.MailRecipient = (string)Settings[&quot;Mail Recipent&quot;];" />
        <CallSubRoutine SubRoutineName="Move to Mail" />
        <MailItemAction Category="Armor" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Container" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Gem" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Glyph" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Key" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Miscellaneous" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Quiver" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Reagent" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Recipe" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Potion" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="ItemEnchantment" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Scroll" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Elixir" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Flask" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Consumable" SubCategoryType="WoWItemContainerClass" SubCategory="Other" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Mace" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Axe" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="AxeTwoHand" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Bow" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Crossbow" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Dagger" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Exotic" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="ExoticTwoHand" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="FishingPole" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Fist" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Gun" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="MaceTwoHand" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Polearm" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Spear" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Staff" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Sword" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="SwordTwoHand" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Thrown" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Wand" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
        <MailItemAction Category="Weapon" SubCategoryType="WoWItemWeaponClass" SubCategory="Misc" Mail="All" UseCategory="True" ItemID="" Amount="0" AutoFindMailBox="True" Location="0, 0, 0" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Put in Bank">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Put in Bank routine.&quot;);" />
      </If>
      <CustomAction Code="slog(&quot;Going to drop necessary itens in Bank.&quot;);" />
      <While Condition="Blacksmithing.Level &lt; 105 &amp;&amp; InbagCount(2835) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2835" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 105 &amp;&amp; InbagCount(3470) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="3470" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 125 &amp;&amp; InbagCount(2770) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2770" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 125 &amp;&amp; InbagCount(2840) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2840" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 155 &amp;&amp; InbagCount(2836) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2836" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 155 &amp;&amp; InbagCount(3478) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="3478" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 105 &amp;&amp; InbagCount(2775) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2775" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 105 &amp;&amp; InbagCount(2842) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2842" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 155 &amp;&amp; InbagCount(2771) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2771" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 155 &amp;&amp; InbagCount(3576) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="3576" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 155 &amp;&amp; InbagCount(2841) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2841" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 190 &amp;&amp; InbagCount(2605) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2605" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 200 &amp;&amp; InbagCount(2838) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2838" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <While Condition="Blacksmithing.Level &lt; 200 &amp;&amp; InbagCount(3486) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="3486" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Iron Ore-->
      <While Condition="Blacksmithing.Level &lt; 200 &amp;&amp; InbagCount(2772) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2772" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Iron Bar-->
      <While Condition="Blacksmithing.Level &lt; 200 &amp;&amp; InbagCount(3575) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="3575" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Gold Bar-->
      <While Condition="Blacksmithing.Level &lt; 160 &amp;&amp; InbagCount(3577) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="3577" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Gold Ore-->
      <While Condition="Blacksmithing.Level &lt; 160 &amp;&amp; InbagCount(2776) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="2776" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Coal-->
      <While Condition="Blacksmithing.Level &lt; 200 &amp;&amp; InbagCount(3857) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="3857" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Steel Bar-->
      <While Condition="Blacksmithing.Level &lt; 200 &amp;&amp; InbagCount(3859) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="3859" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Solid Stone-->
      <While Condition="Blacksmithing.Level &lt; 210 &amp;&amp; InbagCount(7912) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="7912" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Solid Sharpening Stone-->
      <While Condition="Blacksmithing.Level &lt; 210 &amp;&amp; InbagCount(7964) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="7964" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Mithril Ore-->
      <While Condition="Blacksmithing.Level &lt; 250 &amp;&amp; InbagCount(3858) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="3858" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Mithril Bar-->
      <While Condition="Blacksmithing.Level &lt; 250 &amp;&amp; InbagCount(3860) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="3860" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Dense Stone-->
      <While Condition="Blacksmithing.Level &lt; 260 &amp;&amp; InbagCount(12365) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="12365" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Dense Sharpening Stones-->
      <While Condition="Blacksmithing.Level &lt; 260 &amp;&amp; InbagCount(12404) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="12404" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Thorium Ore-->
      <While Condition="Blacksmithing.Level &lt; 300 &amp;&amp; InbagCount(10620) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="10620" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Thorium Bar-->
      <While Condition="Blacksmithing.Level &lt; 300 &amp;&amp; InbagCount(12359) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="12359" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Star Ruby-->
      <While Condition="Blacksmithing.Level &lt; 300 &amp;&amp; InbagCount(7910) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="7910" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Fel Iron Ore-->
      <While Condition="Blacksmithing.Level &lt; 335 &amp;&amp; InbagCount(23424) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="23424" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Fel Iron Bar-->
      <While Condition="Blacksmithing.Level &lt; 335 &amp;&amp; InbagCount(23445) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="23445" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Netherweave Cloth-->
      <While Condition="Blacksmithing.Level &lt; 305 &amp;&amp; InbagCount(21877) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="21877" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Adamantite Ore-->
      <While Condition="Blacksmithing.Level &lt; 350 &amp;&amp; InbagCount(23425) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="23425" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Adamantite Bar-->
      <While Condition="Blacksmithing.Level &lt; 350 &amp;&amp; InbagCount(23446) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="23446" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Cobalt Ore-->
      <While Condition="Blacksmithing.Level &lt; 405 &amp;&amp; InbagCount(36909) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="36909" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Cobalt Bar-->
      <While Condition="Blacksmithing.Level &lt; 405 &amp;&amp; InbagCount(36916) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="36916" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Saronite Ore-->
      <While Condition="Blacksmithing.Level &lt; 425 &amp;&amp; InbagCount(36912) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="36912" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Saronite Bar-->
      <While Condition="Blacksmithing.Level &lt; 425 &amp;&amp; InbagCount(36913) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="36913" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Titanium Ore-->
      <While Condition="Blacksmithing.Level &lt; 425 &amp;&amp; InbagCount(36910) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="36910" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Titanium Bar-->
      <While Condition="Blacksmithing.Level &lt; 425 &amp;&amp; InbagCount(41163) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="41163" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Obsidium Ore-->
      <While Condition="Blacksmithing.Level &lt; 489 &amp;&amp; InbagCount(53038) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="53038" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Obsidium Bar-->
      <While Condition="Blacksmithing.Level &lt; 489 &amp;&amp; InbagCount(54849) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="54849" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Folded Obsidium-->
      <While Condition="Blacksmithing.Level &lt; 489 &amp;&amp; InbagCount(65365) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="65365" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Elementium Ore-->
      <While Condition="Blacksmithing.Level &lt; 500 &amp;&amp; InbagCount(52185) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="52185" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Elementium Bar-->
      <While Condition="Blacksmithing.Level &lt; 500 &amp;&amp; InbagCount(52186) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="52186" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Volatile Earth-->
      <While Condition="Blacksmithing.Level &lt; 500 &amp;&amp; InbagCount(52327) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="52327" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Volatile Fire-->
      <While Condition="Blacksmithing.Level &lt; 500 &amp;&amp; InbagCount(52325) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="52325" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Ghost Iron Ore-->
      <While Condition="Blacksmithing.Level &lt; 600 &amp;&amp; InbagCount(72092) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="72092" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Ghost Iron Bar-->
      <While Condition="Blacksmithing.Level &lt; 600 &amp;&amp; InbagCount(72096) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="72096" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Spirit of Harmony-->
      <While Condition="Blacksmithing.Level &lt; 600 &amp;&amp; InbagCount(76061) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="76061" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Mote of Harmony-->
      <While Condition="Blacksmithing.Level &lt; 600 &amp;&amp; InbagCount(89112) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="89112" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Plans: Adamantite Cleaver-->
      <While Condition="Blacksmithing.Level &lt; 340 &amp;&amp; InbagCount(23591) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="23591" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Plans: Lesser Ward of Shielding-->
      <While Condition="Blacksmithing.Level &lt; 350 &amp;&amp; InbagCount(23638) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="23638" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
      <!--Plans: Contender's Revenant Helm-->
      <While Condition="Blacksmithing.Level &lt; 600 &amp;&amp; InbagCount(84163) &gt;= 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move To Bank" />
        <PutItemInBankAction Category="TradeGoods" SubCategoryType="WoWItemTradeGoodsClass" SubCategory="None" Deposit="All" UseCategory="False" Bank="Personal" ItemID="84163" GuildTab="0" NpcEntry="0" Amount="0" AutoFindBank="True" Location="0, 0, 0" />
      </While>
    </SubRoutine>
    <SubRoutine SubRoutineName="Get Mail">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading get mail routine.&quot;);" />
      </If>
      <If Condition="HasNewMail || MailCount &gt; 0" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Opening Mails.&quot;);" />
        <While Condition="HasNewMail || MailCount &gt; 0" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move to Mail" />
          <If Condition="HasNewMail || MailCount &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
            <GetMailAction GetMailType="AllItems" ItemID="" CheckNewMail="True" MaxCODAmount="0g0s0c" MinFreeBagSlots="4" AutoFindMailBox="True" Location="0, 0, 0" />
            <WaitAction Condition="false" Timeout="500" />
          </If>
          <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Remove Excess" />
          </If>
        </While>
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Withdrawn From Bank">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Withdrawn From Bank routine.&quot;);" />
      </If>
      <CustomAction Code="slog(&quot;Going to pick up non necessary itens from Bank.&quot;);" />
      <CustomAction Code="var1 = 0;" />
      <While Condition="(Int32)var1 != 2" IgnoreCanRun="True">
        <CustomAction Code="var1 = 0;" />
        <!--Rough Stone -->
        <If Condition="Blacksmithing.Level &lt; 105 &amp;&amp; InBankCount(2835) &gt; 140 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2835" NpcEntry="0" Amount="(int)InBankCount(2835) - 140" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 105 &amp;&amp; InBankCount(2835) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2835" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Rough Grinding Stone-->
        <If Condition="Blacksmithing.Level &lt; 105 &amp;&amp; InBankCount(3470) &gt; 20 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3470" NpcEntry="0" Amount="(int)InBankCount(3470) - 20" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 105 &amp;&amp; InBankCount(3470) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3470" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Copper Bar-->
        <If Condition="Blacksmithing.Level &lt; 155 &amp;&amp; InBankCount(2840) &gt; 300 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2840" NpcEntry="0" Amount="(int)InBankCount(2840) - 300" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 155 &amp;&amp; InBankCount(2840) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2840" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Coarse Stone-->
        <If Condition="Blacksmithing.Level &lt; 155 &amp;&amp; InBankCount(2836) &gt; 100 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2836" NpcEntry="0" Amount="(int)InBankCount(2836) - 100" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 155 &amp;&amp; InBankCount(2836) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2836" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Coarse Grinding Stone-->
        <If Condition="Blacksmithing.Level &lt; 155 &amp;&amp; InBankCount(3478) &gt; 40 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3478" NpcEntry="0" Amount="(int)InBankCount(3478) - 40" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 155 &amp;&amp; InBankCount(3478) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3478" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Silver Bar-->
        <If Condition="Blacksmithing.Level &lt; 105 &amp;&amp; InBankCount(2842) &gt; 20 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2842" NpcEntry="0" Amount="(int)InBankCount(2842) - 20" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 105 &amp;&amp; InBankCount(2842) &gt;= 1 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2842" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Tin Bar-->
        <If Condition="Blacksmithing.Level &lt; 155 &amp;&amp; InBankCount(3576) &gt; 80 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3576" NpcEntry="0" Amount="(int)InBankCount(3576) - 80" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 155 &amp;&amp; InBankCount(3576) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3576" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Bronze Bar-->
        <If Condition="Blacksmithing.Level &lt; 155 &amp;&amp; InBankCount(2841) &gt; 80 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2841" NpcEntry="0" Amount="(int)InBankCount(2841) - 80" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 155 &amp;&amp; InBankCount(2841) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2841" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Green Dye-->
        <While Condition="Blacksmithing.Level &gt;= 190 &amp;&amp; InBankCount(2605) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="28605" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Heavy Stone-->
        <If Condition="Blacksmithing.Level &lt; 200 &amp;&amp; InBankCount(2838) &gt; 140 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2838" NpcEntry="0" Amount="(int)InBankCount(2838) - 140" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 200 &amp;&amp; InBankCount(2838) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="2838" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Heavy Grinding Stone-->
        <If Condition="Blacksmithing.Level &lt; 200 &amp;&amp; InBankCount(3486) &gt; 40 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3486" NpcEntry="0" Amount="(int)InBankCount(3486) - 40" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 200 &amp;&amp; InBankCount(3486) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3486" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Iron Bar-->
        <If Condition="Blacksmithing.Level &lt; 200 &amp;&amp; InBankCount(3575) &gt; 300 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3575" NpcEntry="0" Amount="(int)InBankCount(3575) - 300" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 200 &amp;&amp; InBankCount(3575) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3575" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Solid Stone -->
        <If Condition="Blacksmithing.Level &lt; 210 &amp;&amp; InBankCount(7912) &gt; 60 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="7912" NpcEntry="0" Amount="(int)InBankCount(7912) - 60" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 210 &amp;&amp; InBankCount(7912) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="7912" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Mithril Bar-->
        <If Condition="Blacksmithing.Level &lt; 250 &amp;&amp; InBankCount(3860) &gt; 560 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3860" NpcEntry="0" Amount="(int)InBankCount(3860) - 560" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 250 &amp;&amp; InBankCount(3860) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="3860" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Dense Stone-->
        <While Condition="Blacksmithing.Level &gt;= 260 &amp;&amp; InBankCount(12365) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="12365" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Star Ruby-->
        <If Condition="Blacksmithing.Level &lt; 300 &amp;&amp; InBankCount(7910) &gt; 20 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="7910" NpcEntry="0" Amount="(int)InBankCount(7910) - 20" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 300 &amp;&amp; InBankCount(7910) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="7910" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Thorium Bar-->
        <If Condition="Blacksmithing.Level &lt; 300 &amp;&amp; InBankCount(12359) &gt; 460 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="12359" NpcEntry="0" Amount="(int)InBankCount(12359) - 460" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 300 &amp;&amp; InBankCount(12359) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="12359" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Fel Iron Bar-->
        <If Condition="Blacksmithing.Level &lt; 335 &amp;&amp; InBankCount(23445) &gt; 160 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="23445" NpcEntry="0" Amount="(int)InBankCount(23445) - 160" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 335 &amp;&amp; InBankCount(23445) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="23445" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <While Condition="Blacksmithing.Level &gt;= 335 &amp;&amp; InBankCount(23424) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="23424" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Netherweave Cloth-->
        <If Condition="Blacksmithing.Level &lt; 305 &amp;&amp; InBankCount(21877) &gt; 20 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="21877" NpcEntry="0" Amount="(int)InBankCount(21877) - 20" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 305 &amp;&amp; InBankCount(21877) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="21877" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Adamantite Bar-->
        <If Condition="Blacksmithing.Level &lt; 350 &amp;&amp; InBankCount(23446) &gt; 100 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="23446" NpcEntry="0" Amount="(int)InBankCount(23446) - 100" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 350 &amp;&amp; InBankCount(23446) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="23446" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <While Condition="Blacksmithing.Level &gt;= 350 &amp;&amp; InBankCount(23425) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="23425" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Cobalt Bar-->
        <If Condition="Blacksmithing.Level &lt; 405 &amp;&amp; InBankCount(36916) &gt; 300 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="36916" NpcEntry="0" Amount="(int)InBankCount(36916) - 300" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 405 &amp;&amp; InBankCount(36916) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="36916" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <While Condition="Blacksmithing.Level &gt;= 405 &amp;&amp; InBankCount(36909) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="36909" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Saronite Bar-->
        <If Condition="Blacksmithing.Level &lt; 425 &amp;&amp; InBankCount(36913) &gt; 260 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="36913" NpcEntry="0" Amount="(int)InBankCount(36913) - 260" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 425 &amp;&amp; InBankCount(36913) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="36913" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <While Condition="Blacksmithing.Level &gt;= 425 &amp;&amp; InBankCount(36912) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="36912" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Titanium Bar-->
        <If Condition="Blacksmithing.Level &lt; 425 &amp;&amp; InBankCount(41163) &gt; 20 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="41163" NpcEntry="0" Amount="(int)InBankCount(41163) - 20" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 425 &amp;&amp; InBankCount(41163) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="41163" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <While Condition="Blacksmithing.Level &gt;= 425 &amp;&amp; InBankCount(36910) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="36910" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Obsidium Bar-->
        <If Condition="Blacksmithing.Level &lt; 494 &amp;&amp; InBankCount(54849) &gt; 200 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="54849" NpcEntry="0" Amount="(int)InBankCount(54849) - 200" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <If Condition="Blacksmithing.Level &lt; 494 &amp;&amp; InBankCount(65365) &gt; 100 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="65365" NpcEntry="0" Amount="(int)InBankCount(65365) - 100" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 494 &amp;&amp; InBankCount(54849) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="54849" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <While Condition="Blacksmithing.Level &gt;= 494 &amp;&amp; InBankCount(53038) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="53038" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <While Condition="Blacksmithing.Level &gt;= 494 &amp;&amp; InBankCount(65365) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="65365" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Elementium Bar-->
        <If Condition="Blacksmithing.Level &lt; 500 &amp;&amp; InBankCount(52186) &gt; 100 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="52186" NpcEntry="0" Amount="(int)InBankCount(52186) - 100" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 500 &amp;&amp; InBankCount(52186) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="52186" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <While Condition="Blacksmithing.Level &gt;= 500 &amp;&amp; InBankCount(52185) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="52185" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Volatile Earth-->
        <If Condition="Blacksmithing.Level &lt; 500 &amp;&amp; InBankCount(52327) &gt; 60 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="52327" NpcEntry="0" Amount="(int)InBankCount(52327) - 60" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 500 &amp;&amp; InBankCount(52327) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="52327" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Volatile Water-->
        <If Condition="Blacksmithing.Level &lt; 480 &amp;&amp; InBankCount(52326) &gt; 20 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="52326" NpcEntry="0" Amount="(int)InBankCount(52326) - 20" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 480 &amp;&amp; InBankCount(52326) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="52326" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Volatile Fire-->
        <If Condition="Blacksmithing.Level &lt; 494 &amp;&amp; InBankCount(52325) &gt; 20 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="52325" NpcEntry="0" Amount="(int)InBankCount(52325) - 20" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 494 &amp;&amp; InBankCount(52325) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="52325" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <!--Ghost Iron Bar-->
        <If Condition="Blacksmithing.Level &lt; 600 &amp;&amp; InBankCount(72096) &gt; 280 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="Amount" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="72096" NpcEntry="0" Amount="(int)InBankCount(72096) - 280" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </If>
        <While Condition="Blacksmithing.Level &gt;= 600 &amp;&amp; InBankCount(72096) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="72096" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <While Condition="Blacksmithing.Level &gt;= 600 &amp;&amp; InBankCount(72092) &gt; 0 &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Move To Bank" />
          <GetItemfromBankAction Withdraw="All" Bank="Personal" MinFreeBagSlots="5" GetItemfromBankType="SpecificItem" ItemID="72092" NpcEntry="0" Amount="1" AutoFindBank="True" WithdrawAdditively="True" Location="0, 0, 0" />
        </While>
        <If Condition="Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
          <CustomAction Code="var1 = 1;" />
        </If>
        <If Condition="Me.FreeNormalBagSlots &lt;= 5" IgnoreCanRun="True">
          <CallSubRoutine SubRoutineName="Remove Excess" />
        </If>
        <If Condition="(Int32)var1 == 1" IgnoreCanRun="True">
          <CustomAction Code="var1 = 2;" />
        </If>
      </While>
    </SubRoutine>
    <SubRoutine SubRoutineName="Remove Excess">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Remove Excess routine.&quot;);" />
      </If>
      <If Condition="(bool)Settings[&quot;Excess Mats To AH&quot;]" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Put extra in AH" />
      </If>
      <If Condition="(bool)Settings[&quot;Excess Mats To GBank&quot;]" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Put extra in GB" />
      </If>
      <If Condition="(bool)Settings[&quot;Excess Mats To Mailbox&quot;]" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Put extra in Mail" />
      </If>
    </SubRoutine>
  </SubRoutine>
  <SubRoutine SubRoutineName="Start Subs">
    <SubRoutine SubRoutineName="Buying Blacksmithing Hammer">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Buying Blacksmithing Hammer routine.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to buy one blacksmithing hammer, in Stormwind.&quot;);" />
        <FlyToAction Dismount="True" Location="-8430.234, 623.438, 95.52897" />
        <BuyItemAction NpcEntry="5512" Location="-8432.998, 623.7123, 95.39394" ItemID="5956" BuyItemType="SpecificItem" Count="1" BuyAdditively="True" />
      </If>
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to buy one blacksmithing hammer, in Orgrimmar.&quot;);" />
        <FlyToAction Dismount="True" Location="2071.205, -4794.177, 27.47252" />
        <BuyItemAction NpcEntry="3356" Location="2075.79, -4828.07, 27.91959" ItemID="5956" BuyItemType="SpecificItem" Count="1" BuyAdditively="True" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Buying Mining Pick">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Buying Mining Pick routine.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to buy one mining pick, in Stormwind.&quot;);" />
        <FlyToAction Dismount="True" Location="-8428.102, 621.3559, 95.56335" />
        <MoveToAction Location="-8428.102, 621.3559, 95.56335" MoveType="Location" Pathing="Navigator" Entry="0" />
        <BuyItemAction NpcEntry="5512" Location="-8432.998, 623.7123, 95.39394" ItemID="2901" BuyItemType="SpecificItem" Count="1" BuyAdditively="True" />
      </If>
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to buy one mining pick, in Orgrimmar.&quot;);" />
        <FlyToAction Dismount="True" Location="2071.205, -4794.177, 27.47252" />
        <BuyItemAction NpcEntry="3356" Location="2075.79, -4828.07, 27.91959" ItemID="2901" BuyItemType="SpecificItem" Count="1" BuyAdditively="True" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Needed Tools">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Needed Tools routine.&quot;);" />
      </If>
      <If Condition="InbagCount (5956) == 0" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Buying Blacksmithing Hammer" />
        <WaitAction Condition="false" Timeout="2000" />
      </If>
      <If Condition="InbagCount (2901) == 0 &amp;&amp; InbagCount (40772) == 0" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Buying Mining Pick" />
        <WaitAction Condition="false" Timeout="2000" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Save at Inn">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Save at Inn routine.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance &amp;&amp; Me.HearthstoneAreaId != 5150" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to save at Inn at 'The Dwarven Destrict'.&quot;);" />
        <FlyToAction Dismount="True" Location="-8382.521, 617.4127, 95.66184" />
        <MoveToAction Location="-8367.432, 594.8289, 96.99979" MoveType="Location" Pathing="Navigator" Entry="0" />
        <While Condition="Me.HearthstoneAreaId != 5150" IgnoreCanRun="True">
          <InteractionAction InteractType="NPC" Entry="44235" InteractDelay="0" GameObjectType="WorldObject" SpellFocus="Anvil" />
          <CustomAction Code="Lua.DoString(&quot;RunMacroText('/click GossipTitleButton1','0')&quot;);" />
          <WaitAction Condition="false" Timeout="2000" />
          <CustomAction Code="Lua.DoString(&quot;RunMacroText('/click StaticPopup1Button1','0')&quot;);" />
        </While>
        <MoveToAction Location="-8382.521, 617.4127, 95.66184" MoveType="Location" Pathing="Navigator" Entry="0" />
      </If>
      <If Condition="Me.IsHorde &amp;&amp; Me.HearthstoneAreaId != 5168" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to save at Inn near Blacksmithing/Minning Trainers, in Orgrimmar.&quot;);" />
        <FlyToAction Dismount="True" Location="1923.86, -4721.558, 35.8535" />
        <MoveToAction Location="1917.201, -4731.786, 38.9356" MoveType="Location" Pathing="Navigator" Entry="0" />
        <While Condition="Me.HearthstoneAreaId != 5168" IgnoreCanRun="True">
          <InteractionAction InteractType="NPC" Entry="46642" InteractDelay="0" GameObjectType="WorldObject" SpellFocus="Anvil" />
          <CustomAction Code="Lua.DoString(&quot;RunMacroText('/click GossipTitleButton1','0')&quot;);" />
          <WaitAction Condition="false" Timeout="2000" />
          <CustomAction Code="Lua.DoString(&quot;RunMacroText('/click StaticPopup1Button1','0')&quot;);" />
        </While>
        <MoveToAction Location="1927.406, -4716.217, 36.0851" MoveType="Location" Pathing="Navigator" Entry="0" />
      </If>
    </SubRoutine>
  </SubRoutine>
  <SubRoutine SubRoutineName="Suport Subs">
    <SubRoutine SubRoutineName="Train Mining">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Trainin Ming routine.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to train mining, in Stormwind&quot;);" />
        <FlyToAction Dismount="True" Location="-8420.033, 671.6198, 94.96619" />
        <MoveToAction Location="-8420.033, 671.6198, 94.96619" MoveType="Location" Pathing="Navigator" Entry="0" />
        <TrainSkillAction NpcEntry="5513" Location="-8433.48, 688.922, 96.31891" />
        <If Condition="InbagCount (2901) == 0 &amp;&amp; InbagCount (40772) == 0" IgnoreCanRun="True">
          <CustomAction Code="slog(&quot;Going to buy one mining pick, in Stormwind.&quot;);" />
          <BuyItemAction NpcEntry="5512" Location="-8432.998, 623.7123, 95.39394" ItemID="2901" BuyItemType="SpecificItem" Count="1" BuyAdditively="True" />
        </If>
      </If>
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to train mining, in Orgrimmar&quot;);" />
        <FlyToAction Dismount="True" Location="2069.879, -4767.61, 27.47217" />
        <TrainSkillAction NpcEntry="3357" Location="2081.978, -4764.085, 27.92584" />
        <If Condition="InbagCount (2901) == 0 &amp;&amp; InbagCount (40772) == 0" IgnoreCanRun="True">
          <CustomAction Code="slog(&quot;Going to buy one mining pick, in Orgrimmar.&quot;);" />
          <BuyItemAction NpcEntry="3356" Location="2075.79, -4828.07, 27.91959" ItemID="2901" BuyItemType="SpecificItem" Count="1" BuyAdditively="True" />
        </If>
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Train Blacksmithing">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Train Blacksmithing routine.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to train blacksmithing, in Stormwind&quot;);" />
        <FlyToAction Dismount="True" Location="-8419.563, 621.2868, 95.57953" />
        <TrainSkillAction NpcEntry="5511" Location="-8424.496, 616.8224, 95.4668" />
        <If Condition="InbagCount (5956) == 0 " IgnoreCanRun="True">
          <CustomAction Code="slog(&quot;Going to buy one blacksmithing hammer, in Stormwind.&quot;);" />
          <BuyItemAction NpcEntry="5512" Location="-8432.998, 623.7123, 95.39394" ItemID="5956" BuyItemType="SpecificItem" Count="1" BuyAdditively="True" />
        </If>
        <MoveToAction Location="-8420.742, 619.4836, 95.53332" MoveType="Location" Pathing="Navigator" Entry="0" />
      </If>
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Going to train blacksmithing, in Orgrimmar&quot;);" />
        <FlyToAction Dismount="True" Location="2056.688, -4825.06, 27.4725" />
        <TrainSkillAction NpcEntry="7230" Location="2056.528, -4826.787, 27.47173" />
        <If Condition="InbagCount (5956) == 0 " IgnoreCanRun="True">
          <CustomAction Code="slog(&quot;Going to buy one blacksmithing hammer, in Orgrimmar.&quot;);" />
          <BuyItemAction NpcEntry="3356" Location="2075.79, -4828.07, 27.91959" ItemID="5956" BuyItemType="SpecificItem" Count="1" BuyAdditively="True" />
        </If>
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Check Train Blacksmithing">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Check Train Blacksmithing routine.&quot;);" />
      </If>
      <If Condition="Blacksmithing.Level == 0" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Main City" />
        <CallSubRoutine SubRoutineName="Train Blacksmithing" />
      </If>
      <If Condition="Blacksmithing.Level &gt;= 50 &amp;&amp; Blacksmithing.MaxLevel &lt; 150" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Main City" />
        <CallSubRoutine SubRoutineName="Train Blacksmithing" />
      </If>
      <If Condition="Blacksmithing.Level &gt;= 125 &amp;&amp; Blacksmithing.MaxLevel &lt; 225" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Main City" />
        <CallSubRoutine SubRoutineName="Train Blacksmithing" />
      </If>
      <If Condition="Blacksmithing.Level &gt;= 200 &amp;&amp; Blacksmithing.MaxLevel &lt; 300" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Main City" />
        <CallSubRoutine SubRoutineName="Train Blacksmithing" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Check Train Mining">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Check Train Mining routine.&quot;);" />
      </If>
      <If Condition="Mining.Level == 0" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Main City" />
        <CallSubRoutine SubRoutineName="Train Mining" />
        <CallSubRoutine SubRoutineName="SELL ROUTINE" />
      </If>
      <If Condition="Mining.Level &gt;= 50 &amp;&amp; Mining.MaxLevel &lt; 150" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Main City" />
        <CallSubRoutine SubRoutineName="Train Mining" />
        <CallSubRoutine SubRoutineName="SELL ROUTINE" />
      </If>
      <If Condition="Mining.Level &gt;= 125 &amp;&amp; Mining.MaxLevel &lt; 225" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Main City" />
        <CallSubRoutine SubRoutineName="Train Mining" />
        <CallSubRoutine SubRoutineName="SELL ROUTINE" />
      </If>
      <If Condition="Mining.Level &gt;= 200 &amp;&amp; Mining.MaxLevel &lt; 300" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move Main City" />
        <CallSubRoutine SubRoutineName="Train Mining" />
        <CallSubRoutine SubRoutineName="SELL ROUTINE" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Check Needs">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Check Needs routine.&quot;);" />
      </If>
      <CustomAction Code="slog(&quot;Check what i need to farm&quot;);" />
      <CustomAction Code="Settings[&quot;StarRubyNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;RoughStoneNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;RoughGrindingStoneNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;CoarseStoneNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;SilverNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;CopperNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;TinNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;SolidStoneNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;CoarseGrindingStoneNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;HeavyStoneNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;BronzeNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;IronNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;SteelNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;HeavyGrindingStoneNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;MithrilNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;DenseStoneNeed&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;ThoriumNeed&quot;] = 0;" />
      <If Condition="Blacksmithing.Level &lt; 300" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;ThoriumNeed&quot;] = 90;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 295" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;StarRubyNeed&quot;] = 5;" />
        <CustomAction Code="Settings[&quot;ThoriumNeed&quot;] = 150;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 290" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;ThoriumNeed&quot;] = 330;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 275" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;ThoriumNeed&quot;] = 450;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 260" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;DenseStoneNeed&quot;] = 20;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 250" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;MithrilNeed&quot;] = 320;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 235" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;MithrilNeed&quot;] = 380;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 225" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;MithrilNeed&quot;] = 560;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 210" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;SolidStoneNeed&quot;] = 40;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 200" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;HeavyGrindingStoneNeed&quot;] = 20;" />
        <CustomAction Code="Settings[&quot;SteelNeed&quot;] = 50;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 190" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;IronNeed&quot;] = 150;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 165" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;HeavyGrindingStoneNeed&quot;] = 30;" />
        <CustomAction Code="Settings[&quot;IronNeed&quot;] = 230;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 155" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;CoarseGrindingStoneNeed&quot;] = 20;" />
        <CustomAction Code="Settings[&quot;BronzeNeed&quot;] = 50;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 145" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;CoarseGrindingStoneNeed&quot;] = 25;" />
        <CustomAction Code="Settings[&quot;BronzeNeed&quot;] = 75;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 125" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;CoarseGrindingStoneNeed&quot;] = 40;" />
        <CustomAction Code="Settings[&quot;BronzeNeed&quot;] = 150;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 110" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;CopperNeed&quot;] = 50;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 105" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;SilverNeed&quot;] = 7;" />
        <CustomAction Code="Settings[&quot;RoughGrindingStoneNeed&quot;] = 20;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 100" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;CopperNeed&quot;] = 150;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 75" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;CopperNeed&quot;] = 210;" />
      </If>
      <CustomAction Code="Settings[&quot;RoughGrindingStoneNeed&quot;] = (int)Settings[&quot;RoughGrindingStoneNeed&quot;] - InBankCount (3470);" />
      <CustomAction Code="Settings[&quot;RoughStoneNeed&quot;] = (int)Settings[&quot;RoughGrindingStoneNeed&quot;];" />
      <If Condition="Blacksmithing.Level &lt; 65" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;RoughStoneNeed&quot;] = 40;" />
      </If>
      <If Condition="Blacksmithing.Level &lt; 30" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;RoughStoneNeed&quot;] = 133;" />
      </If>
      <CustomAction Code="Settings[&quot;RoughStoneNeed&quot;] = (int)Settings[&quot;RoughStoneNeed&quot;] - InBankCount (2835);" />
      <CustomAction Code="Settings[&quot;CopperNeed&quot;] = (int)Settings[&quot;CopperNeed&quot;] - InbagCount(2840) - InBankCount (2840) - InBankCount (2770);" />
      <CustomAction Code="Settings[&quot;CoarseGrindingStoneNeed&quot;] = (int)Settings[&quot;CoarseGrindingStoneNeed&quot;] - InBankCount (3478);" />
      <CustomAction Code="Settings[&quot;CoarseStoneNeed&quot;] = (int)Settings[&quot;CoarseGrindingStoneNeed&quot;];" />
      <If Condition="Blacksmithing.Level &lt; 90" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;CoarseStoneNeed&quot;] = 100;" />
      </If>
      <CustomAction Code="Settings[&quot;CoarseStoneNeed&quot;] = (int)Settings[&quot;CoarseStoneNeed&quot;] - InBankCount (2836);" />
      <CustomAction Code="Settings[&quot;SilverNeed&quot;] = (int)Settings[&quot;SilverNeed&quot;] - InBankCount (2842) - InBankCount (2775);" />
      <CustomAction Code="Settings[&quot;BronzeNeed&quot;] = (int)Settings[&quot;BronzeNeed&quot;] - InBankCount (2841);" />
      <CustomAction Code="Settings[&quot;CopperNeed&quot;] = (int)Settings[&quot;CopperNeed&quot;] + ((int)Settings[&quot;BronzeNeed&quot;]+1) /2;" />
      <CustomAction Code="Settings[&quot;TinNeed&quot;] = ((int)Settings[&quot;BronzeNeed&quot;]+1) /2;" />
      <CustomAction Code="Settings[&quot;TinNeed&quot;] = (int)Settings[&quot;TinNeed&quot;] - InBankCount (2771) - InBankCount (3576);" />
      <CustomAction Code="Settings[&quot;IronNeed&quot;] = (int)Settings[&quot;IronNeed&quot;] - InBankCount (3575) - InBankCount (2772);" />
      <CustomAction Code="Settings[&quot;HeavyGrindingStoneNeed&quot;] = (int)Settings[&quot;HeavyGrindingStoneNeed&quot;] - InBankCount (3486);" />
      <CustomAction Code="Settings[&quot;HeavyStoneNeed&quot;] = ((int)Settings[&quot;HeavyGrindingStoneNeed&quot;] * 3) - InBankCount (2838);" />
      <If Condition="Blacksmithing.Level &lt; 140" IgnoreCanRun="True">
        <CustomAction Code="Settings[&quot;HeavyStoneNeed&quot;] = 105 - InBankCount (2838);" />
      </If>
      <CustomAction Code="Settings[&quot;SteelNeed&quot;] = (int)Settings[&quot;SteelNeed&quot;] - InBankCount (3859);" />
      <CustomAction Code="Settings[&quot;IronNeed&quot;] = (int)Settings[&quot;IronNeed&quot;] + (int)Settings[&quot;SteelNeed&quot;];" />
      <CustomAction Code="Settings[&quot;SolidStoneNeed&quot;] = (int)Settings[&quot;SolidStoneNeed&quot;] - InBankCount (7912);" />
      <CustomAction Code="Settings[&quot;MithrilNeed&quot;] = (int)Settings[&quot;MithrilNeed&quot;] - InBankCount (3860) - InBankCount (3858);" />
      <CustomAction Code="Settings[&quot;DenseStoneNeed&quot;] = (int)Settings[&quot;DenseStoneNeed&quot;] - InBankCount (12365);" />
      <CustomAction Code="Settings[&quot;ThoriumNeed&quot;] = (int)Settings[&quot;ThoriumNeed&quot;] - InBankCount (12359) - InBankCount (10620);" />
      <CustomAction Code="Settings[&quot;StarRubyNeed&quot;] = (int)Settings[&quot;StarRubyNeed&quot;] - InBankCount (7910);" />
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Print Debug" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Smelt">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Smelt routine.&quot;);" />
      </If>
      <If Condition="Me.IsAlliance &amp;&amp; Me.ZoneId != 1519" IgnoreCanRun="True">
        <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
          <CustomAction Code="dlog(&quot;Smelt routine: Loading Move Main City routine.&quot;);" />
        </If>
        <CallSubRoutine SubRoutineName="Move Main City" />
      </If>
      <If Condition="Me.IsHorde &amp;&amp; Me.ZoneId != 1637" IgnoreCanRun="True">
        <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
          <CustomAction Code="dlog(&quot;Smelt routine: Loading Move Main City routine.&quot;);" />
        </If>
        <CallSubRoutine SubRoutineName="Move Main City" />
      </If>
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Smelt routine: Loading Clean WhatWhereTill routine.&quot;);" />
      </If>
      <CallSubRoutine SubRoutineName="Clean WhatWhereTill" />
      <If Condition="InbagCount (2770) + InBankCount (2770) &gt; 0" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Load Smelt Profile" />
      </If>
      <If Condition="InbagCount (2771) + InBankCount (2771) &gt; 0 &amp;&amp; Mining.Level &gt;= 65" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Load Smelt Profile" />
      </If>
      <If Condition="Blacksmithing.Level &gt;= 110 &amp;&amp; (InbagCount(2840) + InBankCount (2840) &gt; 0) &amp;&amp; (InbagCount(3576) + InBankCount (3576) &gt; 0) &amp;&amp; Mining.Level &gt; 65" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Load Smelt Profile" />
      </If>
      <If Condition="InbagCount (2775) + InBankCount (2775) &gt; 0 &amp;&amp; Mining.Level &gt; 75" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Load Smelt Profile" />
      </If>
      <If Condition="InbagCount (2772) + InBankCount (2772) &gt; 0 &amp;&amp; Mining.Level &gt;= 100" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Load Smelt Profile" />
      </If>
      <If Condition="InbagCount (2776) + InBankCount (2776) &gt; 0 &amp;&amp; Mining.Level &gt;= 115" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Load Smelt Profile" />
      </If>
      <If Condition="InbagCount (3858) + InBankCount (3858) &gt; 0 &amp;&amp; Mining.Level &gt;= 150" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Load Smelt Profile" />
      </If>
      <If Condition="InbagCount (7911) + InBankCount(7911) &gt; 0 &amp;&amp; Mining.Level &gt;= 165" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Load Smelt Profile" />
      </If>
      <If Condition="InbagCount (10620) + InBankCount (10620) &gt; 0 &amp;&amp; Mining.Level &gt;= 230" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Load Smelt Profile" />
      </If>
      <If Condition="InbagCount (11370) + InBankCount (11370) &gt; 7 &amp;&amp; Mining.Level &gt;= 230" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Load Smelt Profile" />
      </If>
      <If Condition="InbagCount (23424) + InBankCount (23424) &gt; 1 &amp;&amp; Mining.Level &gt;= 275" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Load Smelt Profile" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Clean WhatWhereTill">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Clean WhatWhereTill routine.&quot;);" />
      </If>
      <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
      <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 0;" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Select GoTo Farm">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Select GoTo Farm routine.&quot;);" />
      </If>
      <If Condition="(int)Settings[&quot;MapToFarm&quot;] == 0;" IgnoreCanRun="True">
        <!--Copper-->
        <If Condition="Me.IsAlliance" IgnoreCanRun="True">
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] == 2770;" IgnoreCanRun="True">
            <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Main City" />
            </If>
            <If Condition="Me.MapId == 0" IgnoreCanRun="True">
              <CustomAction Code="var1 = rnd.Next(2000);" />
              <If Condition="(int)var1 &lt;= 554" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 148;" />
              </If>
              <If Condition="(int)var1 &gt; 554 &amp;&amp; (int)var1 &lt;= 1094" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 12;" />
              </If>
              <If Condition="(int)var1 &gt; 1094 &amp;&amp; (int)var1 &lt;= 1577" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 1;" />
              </If>
              <If Condition="(int)var1 &gt; 1577" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 38;" />
              </If>
            </If>
            <If Condition="Me.MapId == 1" IgnoreCanRun="True">
              <CustomAction Code="var1 = rnd.Next(1795);" />
              <If Condition="(int)var1 &lt;= 831" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 148;" />
              </If>
              <If Condition="(int)var1 &gt; 831 &amp;&amp; (int)var1 &lt;= 1191" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 12;" />
              </If>
              <If Condition="(int)var1 &gt; 1191 &amp;&amp; (int)var1 &lt;= 1513" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 1;" />
              </If>
              <If Condition="(int)var1 &gt; 1513" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 38;" />
              </If>
            </If>
          </If>
        </If>
        <If Condition="Me.IsHorde" IgnoreCanRun="True">
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] == 2770;" IgnoreCanRun="True">
            <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Main City" />
            </If>
            <If Condition="Me.MapId == 0" IgnoreCanRun="True">
              <CustomAction Code="var1 = rnd.Next(1292);" />
              <If Condition="(int)var1 &lt;= 242" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 14;" />
              </If>
              <If Condition="(int)var1 &gt; 242 &amp;&amp; (int)var1 &lt;= 464" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 16;" />
              </If>
              <If Condition="(int)var1 &gt; 464 &amp;&amp; (int)var1 &lt;= 680" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 17;" />
              </If>
              <If Condition="(int)var1 &gt; 680 &amp;&amp; (int)var1 &lt;= 1169" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 85;" />
              </If>
              <If Condition="(int)var1 &gt; 1169" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 215;" />
              </If>
            </If>
            <If Condition="Me.MapId == 1" IgnoreCanRun="True">
              <CustomAction Code="var1 = rnd.Next(2572);" />
              <If Condition="(int)var1 &lt;= 726" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 14;" />
              </If>
              <If Condition="(int)var1 &gt; 726 &amp;&amp; (int)var1 &lt;= 1392" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 16;" />
              </If>
              <If Condition="(int)var1 &gt; 1392 &amp;&amp; (int)var1 &lt;= 2040" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 17;" />
              </If>
              <If Condition="(int)var1 &gt; 2040 &amp;&amp; (int)var1 &lt;= 2203" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 85;" />
              </If>
              <If Condition="(int)var1 &gt; 2203" IgnoreCanRun="True">
                <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 215;" />
              </If>
            </If>
          </If>
        </If>
        <!--Tin-->
        <If Condition="(int)Settings[&quot;MatToFarm&quot;] == 2771;" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 0" IgnoreCanRun="True">
            <CustomAction Code="var1 = rnd.Next(2213);" />
            <If Condition="(int)var1 &lt;= 308" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 331;" />
            </If>
            <If Condition="(int)var1 &gt; 308 &amp;&amp; (int)var1 &lt;= 918" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 267;" />
            </If>
            <If Condition="(int)var1 &gt; 918 &amp;&amp; (int)var1 &lt;= 2015" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 33;" />
            </If>
            <If Condition="(int)var1 &gt; 2015" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 406;" />
            </If>
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True">
            <CustomAction Code="var1 = rnd.Next(2087);" />
            <If Condition="(int)var1 &lt;= 924" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 331;" />
            </If>
            <If Condition="(int)var1 &gt; 924 &amp;&amp; (int)var1 &lt;= 1230" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 267;" />
            </If>
            <If Condition="(int)var1 &gt; 1230 &amp;&amp; (int)var1 &lt;= 1493" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 33;" />
            </If>
            <If Condition="(int)var1 &gt; 1493" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 406;" />
            </If>
          </If>
        </If>
        <!--Iron-->
        <If Condition="(int)Settings[&quot;MatToFarm&quot;] == 2772;" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 0" IgnoreCanRun="True">
            <CustomAction Code="var1 = rnd.Next(2868);" />
            <If Condition="(int)var1 &lt;= 368" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 357;" />
            </If>
            <If Condition="(int)var1 &gt; 368 &amp;&amp; (int)var1 &lt;= 606" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 405;" />
            </If>
            <If Condition="(int)var1 &gt; 606 &amp;&amp; (int)var1 &lt;= 753" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 4709;" />
            </If>
            <If Condition="(int)var1 &gt; 753 &amp;&amp; (int)var1 &lt;= 1350" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 28;" />
            </If>
            <If Condition="(int)var1 &gt; 1350 &amp;&amp; (int)var1 &lt;= 1923" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 139;" />
            </If>
            <If Condition="(int)var1 &gt; 1923 &amp;&amp; (int)var1 &lt;= 2451" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 5287;" />
            </If>
            <If Condition="(int)var1 &gt; 2451" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 45;" />
            </If>
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True">
            <CustomAction Code="var1 = rnd.Next(2964);" />
            <If Condition="(int)var1 &lt;= 1104" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 357;" />
            </If>
            <If Condition="(int)var1 &gt; 1104 &amp;&amp; (int)var1 &lt;= 1818" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 405;" />
            </If>
            <If Condition="(int)var1 &gt; 1818 &amp;&amp; (int)var1 &lt;= 2259" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 4709;" />
            </If>
            <If Condition="(int)var1 &gt; 2259 &amp;&amp; (int)var1 &lt;= 2458" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 28;" />
            </If>
            <If Condition="(int)var1 &gt; 2458 &amp;&amp; (int)var1 &lt;= 2649" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 139;" />
            </If>
            <If Condition="(int)var1 &gt; 2649 &amp;&amp; (int)var1 &lt;= 2825" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 5287;" />
            </If>
            <If Condition="(int)var1 &gt; 2825" IgnoreCanRun="True">
              <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 45;" />
            </If>
          </If>
        </If>
        <!--Mithril-->
        <If Condition="(int)Settings[&quot;MatToFarm&quot;] == 3858;" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <CustomAction Code="var1 = rnd.Next(2892);" />
          <If Condition="(int)var1 &lt;= 987" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 3;" />
          </If>
          <If Condition="(int)var1 &gt; 987 &amp;&amp; (int)var1 &lt;= 1950" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 46;" />
          </If>
          <If Condition="(int)var1 &gt; 1950" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 51;" />
          </If>
        </If>
        <!--Thorium-->
        <If Condition="(int)Settings[&quot;MatToFarm&quot;] == 10620;" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <CustomAction Code="var1 = rnd.Next(649);" />
          <If Condition="(int)var1 &lt;= 263" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 1377;" />
          </If>
          <If Condition="(int)var1 &gt; 263" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 490;" />
          </If>
        </If>
      </If>
      <CallSubRoutine SubRoutineName="Farm Routine" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Farm Routine">
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading Farm routine.&quot;);" />
      </If>
      <CustomAction Code="slog(&quot;Swithing farm profile.&quot;);" />
      <CustomAction Code="var1 = (int)Settings[&quot;MapToFarm&quot;];" />
      <If Condition="Me.IsAlliance" IgnoreCanRun="True">
        <!--Cooper-->
        <If Condition="(int)var1 == 148 || (int)var1 == 12 || (int)var1 == 1 || (int)var1 == 38" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] != 2770" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 0;" />
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 0" IgnoreCanRun="True">
            <If Condition="(int)var1 == 148" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move EK_Kalindor_Stormwind_Darkshore" />
            </If>
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True">
            <If Condition="(int)var1 == 12 || (int)var1 == 1 || (int)var1 == 38" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Kalindor_EK_Darkshore_Stormwind" />
            </If>
          </If>
          <If Condition="(int)var1 == 148" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Copper148" />
          </If>
          <If Condition="(int)var1 == 12" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Copper12" />
          </If>
          <If Condition="(int)var1 == 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Copper1" />
          </If>
          <If Condition="(int)var1 == 38" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Copper38" />
          </If>
        </If>
        <!--Tin-->
        <If Condition="(int)var1 == 331 || (int)var1 == 267 || (int)var1 == 33 || (int)var1 == 406" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] != 2771" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 0;" />
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 0" IgnoreCanRun="True">
            <If Condition="(int)var1 == 331 || (int)var1 == 406" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move EK_Kalindor_Stormwind_Darkshore" />
            </If>
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True">
            <If Condition="(int)var1 == 267 || (int)var1 == 33" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Kalindor_EK_Darkshore_Stormwind" />
            </If>
          </If>
          <If Condition="(int)var1 == 331" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Tin331" />
          </If>
          <If Condition="(int)var1 == 267" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Tin267" />
          </If>
          <If Condition="(int)var1 == 33" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Tin33" />
          </If>
          <If Condition="(int)var1 == 406" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Tin406" />
          </If>
        </If>
        <!--Iron-->
        <If Condition="(int)var1 == 357 || (int)var1 == 405 || (int)var1 == 4709 || (int)var1 == 28 || (int)var1 == 139 || (int)var1 == 5287 || (int)var1 == 45" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] != 2772" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 0;" />
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 0" IgnoreCanRun="True">
            <If Condition="(int)var1 == 357 || (int)var1 == 405 || (int)var1 == 4709" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move EK_Kalindor_Menethil_Theramore" />
            </If>
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True">
            <If Condition="(int)var1 == 28 || (int)var1 == 139 || (int)var1 == 5287 || (int)var1 == 45" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Kalindor_EK_Theramore_Menethil" />
            </If>
          </If>
          <If Condition="(int)var1 == 357" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron357" />
          </If>
          <If Condition="(int)var1 == 405" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron405" />
          </If>
          <If Condition="(int)var1 == 4709" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron4709" />
          </If>
          <If Condition="(int)var1 == 28" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron28" />
          </If>
          <If Condition="(int)var1 == 139" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron139" />
          </If>
          <If Condition="(int)var1 == 5287" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron5287" />
          </If>
          <If Condition="(int)var1 == 45" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron45" />
          </If>
        </If>
        <!--Mithril-->
        <If Condition="(int)var1 == 3 || (int)var1 == 46 || (int)var1 == 51" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] != 3858" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 0;" />
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 0" IgnoreCanRun="True">
            <If Condition="(int)var1 == 361" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move EK_Kalindor_Stormwind_Darkshore" />
            </If>
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True">
            <If Condition="(int)var1 == 3 || (int)var1 == 46 || (int)var1 == 51" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Kalindor_EK_Darkshore_Stormwind" />
            </If>
          </If>
          <If Condition="(int)var1 == 3" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Mithril3" />
          </If>
          <If Condition="(int)var1 == 46" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Mithril46" />
          </If>
          <If Condition="(int)var1 == 51" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Mithril51" />
          </If>
          <If Condition="(int)var1 == 361" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Mithril361" />
          </If>
        </If>
        <!--Thorium-->
        <If Condition="(int)var1 == 618 || (int)var1 == 490 || (int)var1 == 1377" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] != 10620" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 0;" />
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 0" IgnoreCanRun="True">
            <If Condition="(int)var1 == 618 || (int)var1 == 490 || (int)var1 == 1377" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move EK_Kalindor_Menethil_Theramore" />
            </If>
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True" />
          <If Condition="(int)var1 == 618" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Thorium618" />
          </If>
          <If Condition="(int)var1 == 490" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Thorium490" />
          </If>
          <If Condition="(int)var1 == 1377" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Thorium1377" />
          </If>
        </If>
      </If>
      <If Condition="Me.IsHorde" IgnoreCanRun="True">
        <!--Cooper-->
        <If Condition="(int)var1 == 14 || (int)var1 == 16 || (int)var1 == 17 || (int)var1 == 215 || (int)var1 == 85" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] != 2770" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 0;" />
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 0" IgnoreCanRun="True">
            <If Condition="(int)var1 == 14 || (int)var1 == 16 || (int)var1 == 17 || (int)var1 == 215" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move EK_Kalindor_Brill_Orgrimmar" />
            </If>
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True">
            <If Condition="(int)var1 == 85" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Kalindor_EK_Orgrimmar_Brill" />
            </If>
          </If>
          <If Condition="(int)var1 == 14" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Copper14" />
          </If>
          <If Condition="(int)var1 == 16" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Copper16" />
          </If>
          <If Condition="(int)var1 == 17" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Copper17" />
          </If>
          <If Condition="(int)var1 == 85" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Copper85" />
          </If>
          <If Condition="(int)var1 == 215" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Copper215" />
          </If>
        </If>
        <!--Tin-->
        <If Condition="(int)var1 == 331 || (int)var1 == 267 || (int)var1 == 33 || (int)var1 == 406" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] != 2771" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 0;" />
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 0" IgnoreCanRun="True">
            <If Condition="(int)var1 == 331 || (int)var1 == 406" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Main City" />
            </If>
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True">
            <If Condition="(int)var1 == 267" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Kalindor_EK_Orgrimmar_Brill" />
            </If>
            <If Condition="(int)var1 == 33" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Kalindor_EK_Orgrimmar_GromgolBaseCamp" />
            </If>
          </If>
          <If Condition="(int)var1 == 331" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Tin331" />
          </If>
          <If Condition="(int)var1 == 267" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Tin267" />
          </If>
          <If Condition="(int)var1 == 33" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Tin33" />
          </If>
          <If Condition="(int)var1 == 406" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Tin406" />
          </If>
        </If>
        <!--Iron-->
        <If Condition="(int)var1 == 357 || (int)var1 == 405 || (int)var1 == 4709 || (int)var1 == 28 || (int)var1 == 139 || (int)var1 == 5287 || (int)var1 == 45" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] != 2772" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 0;" />
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 0" IgnoreCanRun="True">
            <If Condition="(int)var1 == 357 || (int)var1 == 405 || (int)var1 == 4709" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Main City" />
            </If>
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True">
            <If Condition="(int)var1 == 5287" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Kalindor_EK_Orgrimmar_GromgolBaseCamp" />
            </If>
            <If Condition="(int)var1 == 28 || (int)var1 == 139 || (int)var1 == 45" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Kalindor_EK_Orgrimmar_Brill" />
            </If>
          </If>
          <If Condition="(int)var1 == 357" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron357" />
          </If>
          <If Condition="(int)var1 == 405" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron405" />
          </If>
          <If Condition="(int)var1 == 4709" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron4709" />
          </If>
          <If Condition="(int)var1 == 28" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron28" />
          </If>
          <If Condition="(int)var1 == 139" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron139" />
          </If>
          <If Condition="(int)var1 == 5287" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron5287" />
          </If>
          <If Condition="(int)var1 == 45" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Iron45" />
          </If>
        </If>
        <!--Mithril-->
        <If Condition="(int)var1 == 3 || (int)var1 == 46 || (int)var1 == 51" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] != 3858" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 0;" />
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True">
            <If Condition="(int)var1 == 3 || (int)var1 == 46 || (int)var1 == 51" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Kalindor_EK_Orgrimmar_GromgolBaseCamp" />
            </If>
          </If>
          <If Condition="!HasRecipe (9937) &amp;&amp; Me.MapId == 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Kalindor_EK_Orgrimmar_GromgolBaseCamp" />
          </If>
          <If Condition="(int)var1 == 3" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Mithril3" />
          </If>
          <If Condition="(int)var1 == 46" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Mithril46" />
          </If>
          <If Condition="(int)var1 == 51" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Mithril51" />
          </If>
        </If>
        <!--Thorium-->
        <If Condition="(int)var1 == 618 || (int)var1 == 490 || (int)var1 == 1377" IgnoreCanRun="True">
          <If Condition="Me.MapId != 0 &amp;&amp; Me.MapId != 1" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="(int)Settings[&quot;MatToFarm&quot;] != 10620" IgnoreCanRun="True">
            <CustomAction Code="Settings[&quot;MatToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;MapToFarm&quot;] = 0;" />
            <CustomAction Code="Settings[&quot;FarmTilLevel&quot;] = 0;" />
            <CallSubRoutine SubRoutineName="Move Main City" />
          </If>
          <If Condition="Me.MapId == 0" IgnoreCanRun="True">
            <If Condition="(int)var1 == 618 || (int)var1 == 490 || (int)var1 == 1377" IgnoreCanRun="True">
              <CallSubRoutine SubRoutineName="Move Main City" />
            </If>
          </If>
          <If Condition="Me.MapId == 1" IgnoreCanRun="True" />
          <If Condition="(int)var1 == 618" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Thorium618" />
          </If>
          <If Condition="(int)var1 == 490" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Thorium490" />
          </If>
          <If Condition="(int)var1 == 1377" IgnoreCanRun="True">
            <CallSubRoutine SubRoutineName="Farm_Thorium1377" />
          </If>
        </If>
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Sell Trash">
      <CustomAction Code="var5 = 0;" />
      <CustomAction Code="var5 = Lua.GetReturnVal&lt;int&gt;(&quot;for i=0,4 do for j=1,GetContainerNumSlots(i)do l=GetContainerItemLink(i,j)if l then _,_,q=GetItemInfo(l)if q==0 then return 1; end end end end&quot;, 0);" />
      <If Condition="(int)var5 == 1" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Move to Vendor" />
        <If Condition="Me.IsAlliance" IgnoreCanRun="True">
          <SellItemAction Sell="All" NpcEntry="5512" Location="-8432.998, 623.7123, 95.39393" SellItemType="Greys" ItemID="" Count="0" />
        </If>
        <If Condition="Me.IsHorde" IgnoreCanRun="True">
          <SellItemAction Sell="All" NpcEntry="3361" Location="2045.804, -4830.943, 27.54256" SellItemType="Greys" ItemID="" Count="0" />
        </If>
      </If>  
      <CustomAction Code="Lua.DoString(string.Format(&quot;RunMacroText(\&quot;{0}\&quot;)&quot;, &quot;/run for i=0,4 do for j=1,GetContainerNumSlots(i) do z=GetContainerItemLink(i,j)if z then n,_,r,l,_,t=GetItemInfo(z)if r==1 and l&lt;86 and t=='Consumable' then PickupContainerItem(i,j)DeleteCursorItem(); end end end end&quot;), 0);" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Load Smelt Profile">
      <CustomAction Code="Settings[&quot;Smelted&quot;] = true;" />
      <LoadProfileAction ProfileType="Professionbuddy" Path="SmeltingOre.xml" />
      <CustomAction Code="TreeRoot.Stop();" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Load Craft Profile">
      <CustomAction Code="Settings[&quot;Crafted&quot;] = true;" />
      <If Condition="(bool)Settings[&quot;Debug&quot;]" IgnoreCanRun="True">
        <CustomAction Code="dlog(&quot;Loading craft profile.&quot;);" />
      </If>
      <LoadProfileAction ProfileType="Professionbuddy" Path="CraftItens.xml" />
      <CustomAction Code="TreeRoot.Stop();" />
    </SubRoutine>
  </SubRoutine>
  <SubRoutine SubRoutineName="Set Subs">
    <SubRoutine SubRoutineName="Debug Logging">
      <CustomAction Code="slog(&quot;Current Version: {0}&quot;, version);" />
      <CustomAction Code="slog(&quot;Level {0} {1}&quot;, Me.Level, Me.Race);" />
      <CustomAction Code="slog(&quot;Zone: {0} ({1}) - {2}&quot;, Me.ZoneText, Me.ZoneId, Me.SubZoneText);" />
      <CustomAction Code="slog(&quot;Free Slots: {0}&quot;, Me.FreeBagSlots);" />
      <CustomAction Code="slog(&quot;Mining Level: {0}/{1}&quot;, Mining.Level, Mining.MaxLevel);" />
      <CustomAction Code="slog(&quot;Blacksmithing Level: {0}/{1}&quot;, Blacksmithing.Level, Blacksmithing.MaxLevel);" />
      <CustomAction Code="slog(&quot;--- Excess Mats/Crafted Settings ---&quot;);" />
      <CustomAction Code="slog(&quot;Sell Mats to AH: {0}&quot;, (bool)Settings[&quot;Excess Mats To AH&quot;]);" />
      <CustomAction Code="slog(&quot;Put Mats in GBank: {0}&quot;, (bool)Settings[&quot;Excess Mats To GBank&quot;]);" />
      <CustomAction Code="slog(&quot;Send Mats by Mail: {0}&quot;, (bool)Settings[&quot;Excess Mats To Mailbox&quot;]);" />
      <If Condition="(string)Settings[&quot;Mail Recipent&quot;] == &quot;Character Name&quot;" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Is Mail Recipent Defined: False&quot;);" />
      </If>
      <If Condition="(string)Settings[&quot;Mail Recipent&quot;] != &quot;Character Name&quot;" IgnoreCanRun="True">
        <CustomAction Code="slog(&quot;Is Mail Recipent Defined: True&quot;);" />
      </If>
    </SubRoutine>
    <SubRoutine SubRoutineName="Print Debug">
      <CustomAction Code="dlog(&quot;StarRubyNeed: {0}&quot;, (int)Settings[&quot;StarRubyNeed&quot;]);" />
      <CustomAction Code="slog(&quot;RoughStoneNeed: {0}&quot;, (int)Settings[&quot;RoughStoneNeed&quot;]);" />
      <CustomAction Code="slog(&quot;RoughGrindingStoneNeed: {0}&quot;, (int)Settings[&quot;RoughGrindingStoneNeed&quot;]);" />
      <CustomAction Code="slog(&quot;CoarseStoneNeed: {0}&quot;, (int)Settings[&quot;CoarseStoneNeed&quot;]);" />
      <CustomAction Code="slog(&quot;SilverNeed: {0}&quot;, (int)Settings[&quot;SilverNeed&quot;]);" />
      <CustomAction Code="slog(&quot;CopperNeed: {0}&quot;, (int)Settings[&quot;CopperNeed&quot;]);" />
      <CustomAction Code="slog(&quot;TinNeed: {0}&quot;, (int)Settings[&quot;TinNeed&quot;]);" />
      <CustomAction Code="slog(&quot;CoarseGrindingStoneNeed: {0}&quot;, (int)Settings[&quot;CoarseGrindingStoneNeed&quot;]);" />
      <CustomAction Code="slog(&quot;HeavyStoneNeed: {0}&quot;, (int)Settings[&quot;HeavyStoneNeed&quot;]);" />
      <CustomAction Code="slog(&quot;BronzeNeed: {0}&quot;, (int)Settings[&quot;BronzeNeed&quot;]);" />
      <CustomAction Code="slog(&quot;IronNeed: {0}&quot;, (int)Settings[&quot;IronNeed&quot;]);" />
      <CustomAction Code="slog(&quot;SteelNeed: {0}&quot;, (int)Settings[&quot;SteelNeed&quot;]);" />
      <CustomAction Code="slog(&quot;HeavyGrindingStoneNeed: {0}&quot;, (int)Settings[&quot;HeavyGrindingStoneNeed&quot;]);" />
      <CustomAction Code="slog(&quot;MithrilNeed: {0}&quot;, (int)Settings[&quot;MithrilNeed&quot;]);" />
      <CustomAction Code="slog(&quot;DenseStoneNeed: {0}&quot;, (int)Settings[&quot;DenseStoneNeed&quot;]);" />
      <CustomAction Code="slog(&quot;ThoriumNeed: {0}&quot;, (int)Settings[&quot;ThoriumNeed&quot;]);" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Load-settings">
      <!--excess mats, what todo-->
      <Settings DefaultValue="true" Type="Boolean" Name="Excess Mats To AH" Summary="Should it sell excess farmed mats to Action-House?" Category="1. Excess Mats - ONLY ENABLE 1" Global="False" Hidden="False" />
      <Settings DefaultValue="false" Type="Boolean" Name="Excess Mats To GBank" Summary="Should it drop excess farmed mats in Guild-Bank?" Category="1. Excess Mats - ONLY ENABLE 1" Global="False" Hidden="False" />
      <Settings DefaultValue="false" Type="Boolean" Name="Excess Mats To Mailbox" Summary="Should it mail excess farmed mats to an alt Char?" Category="1. Excess Mats - ONLY ENABLE 1" Global="False" Hidden="False" />
      <!--Char name to mail itens-->
      <Settings DefaultValue="Character Name" Type="String" Name="Mail Recipent" Summary="Who should it be sent to if Mailbox is enabled?" Category="2. Use Mailbox" Global="False" Hidden="False" />
      <!--AH options-->
      <!--!<Settings DefaultValue="true" Type="Boolean" Name="Use default prices at AH" Summary="Should it sell itens to Action-House using default profile price?" Category="3. Action House Options" Global="False" Hidden="False" />
      <Settings DefaultValue="0" Type="Int32" Name="Rugged Leather Max Price" Summary="Whats the max price for Rugged Leather? if there is none under that price bot will farm" Category="3. Action House Options" Global="False" Hidden="False" />
      <Settings DefaultValue="0" Type="Int32" Name="Star Ruby Max Price" Summary="Whats the max price for Star Ruby? if there is none under that price bot will farm" Category="3. Action House Options" Global="False" Hidden="False" />
      <Settings DefaultValue="0" Type="Int32" Name="Netherweave Cloth Max Price" Summary="Whats the max price for Netherweave Cloth? if there is none under that price bot will farm" Category="3. Action House Options" Global="False" Hidden="False" />
      <Settings DefaultValue="0" Type="Int32" Name="Volatile Water Max Price" Summary="Whats the max price for Volatile Water? if there is none under that price bot will farm" Category="3. Action House Options" Global="False" Hidden="False" />
      <Settings DefaultValue="0" Type="Int32" Name="Volatile Fire Max Price" Summary="Whats the max price for Volatile Fire? if there is none under that price bot will farm" Category="3. Action House Options" Global="False" Hidden="False" />
      <Settings DefaultValue="0" Type="Int32" Name="Volatile Earth Max Price" Summary="Whats the max price for Volatile Earth? if there is none under that price bot will farm" Category="3. Action House Options" Global="False" Hidden="False" />
      <Settings DefaultValue="0" Type="Int32" Name="Spirit of Harmony Max Price" Summary="Whats the max price for Spirit of Harmony? if there is none under that price bot will farm" Category="3. Action House Options" Global="False" Hidden="False" />
      -->
      <!--Misc Options-->
      <Settings DefaultValue="false" Type="Boolean" Name="Use HS" Summary="Should it use Heartstone?" Category="4. Misc Options" Global="False" Hidden="False" />
      <Settings DefaultValue="20" Type="Int32" Name="Farm Time" Summary="How many minutes should bot farm at each map? (5 to 30)" Category="4. Misc Options" Global="False" Hidden="False" />
      <Settings DefaultValue="false" Type="Boolean" Name="Debug" Summary="Enable this to allow bot to print debug lines" Category="4. Misc Options" Global="False" Hidden="False" />
      <Settings DefaultValue="false" Type="Boolean" Name="Reset" Summary="Only enable this option if bot, is farming at strange places, like copper with mining and blacksmithing level 500" Category="4. Misc Options" Global="False" Hidden="False" />
      <Settings DefaultValue="false" Type="Boolean" Name="Options Configured" Summary="Enable this to allow bot to run profile" Category="5. Extra" Global="False" Hidden="False" />
      <!--Hiden Options-->
      <Settings DefaultValue="false" Type="Boolean" Name="PreRun" Summary="did bot checkd portals?" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="false" Type="Boolean" Name="PreRun300" Summary="did bot checkd portals?" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="false" Type="Boolean" Name="Smelted" Summary="did bot ran Smelt profile?" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="false" Type="Boolean" Name="Crafted" Summary="did bot ran Craft profile?" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="StarRubyNeed" Summary="Need this amount of Star Ruby" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="RoughStoneNeed" Summary="Need this amount of Rough Stone" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="CoarseStoneNeed" Summary="Need this amount of Coarse Stone" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="RoughGrindingStoneNeed" Summary="Need this amount of Rough Grinding Stone" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="SilverNeed" Summary="Need this amount of Copper" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="CopperNeed" Summary="Need this amount of Copper" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="TinNeed" Summary="Need this amount of Tin" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="CoarseGrindingStoneNeed" Summary="Need this amount of Coarse Grinding Stone" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="HeavyStoneNeed" Summary="Need this amount of Heavy Stone" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="BronzeNeed" Summary="Need this amount of Bronze" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="IronNeed" Summary="Need this amount of Iron" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="SteelNeed" Summary="Need this amount of Steel" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="HeavyGrindingStoneNeed" Summary="Need this amount of Heavy Grinding Stone" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="SolidStoneNeed" Summary="Need this amount of Solid Stone" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="MithrilNeed" Summary="Need this amount of Mithril" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="DenseStoneNeed" Summary="Need this amount of Dense Stone" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="ThoriumNeed" Summary="Need this amount of Thorium" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="null" Type="String" Name="MatToFarm" Summary="What" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="MapToFarm" Summary="Where" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="0" Type="Int32" Name="FarmTilLevel" Summary="Till" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="false" Type="Boolean" Name="Hyjal Portal" Summary="Does char know this portal?" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="false" Type="Boolean" Name="Deepholm Portal" Summary="Does char know this portal?" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="false" Type="Boolean" Name="Twilight Highlands Portal" Summary="Does char know this portal?" Category="Hiden" Global="False" Hidden="True" />
      <Settings DefaultValue="false" Type="Boolean" Name="Pandaria Portal" Summary="Does char know this portal?" Category="Hiden" Global="False" Hidden="True" />
    </SubRoutine>
    <SubRoutine SubRoutineName="Declarations">
      <Declaration Code="public string version = &quot;alpha 1&quot;;" />
      <Declaration Code="private void slog(string format, params object[] args)&#xD;&#xA;{&#xD;&#xA;    Logging.Write(Colors.Aquamarine, &quot;[PB-Cava]: &quot; + format, args);&#xD;&#xA;}" />
      <Declaration Code="private void dlog(string format, params object[] args)&#xD;&#xA;{&#xD;&#xA;    Logging.Write(Colors.LemonChiffon, &quot;[PBCava-Debug]: &quot; + format, args);&#xD;&#xA;}" />
      <Declaration Code="static Stopwatch FarmTime = new Stopwatch();" />
      <Declaration Code="Random rnd = new Random();" />
      <Declaration Code="bool initialized = false;" />
      <Declaration Code="public int HSCooldown()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.Id == 6948 || item.ItemInfo.Id == 64488)&#xD;&#xA;        {&#xD;&#xA;            return (int)item.CooldownTimeLeft.TotalSeconds;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="public int HaveArmor()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.ItemClass == WoWItemClass.Armor)&#xD;&#xA;        {&#xD;&#xA;            return 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="public int HaveGem()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.ItemClass == WoWItemClass.Gem)&#xD;&#xA;        {&#xD;&#xA;            return 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="public int HaveGlyph()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.ItemClass == WoWItemClass.Glyph)&#xD;&#xA;        {&#xD;&#xA;            return 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="public int HaveKey()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.ItemClass == WoWItemClass.Key)&#xD;&#xA;        {&#xD;&#xA;            return 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="public int HaveMiscellaneous()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.ItemClass == WoWItemClass.Miscellaneous)&#xD;&#xA;        {&#xD;&#xA;            return 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="public int HaveQuiver()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.ItemClass == WoWItemClass.Quiver)&#xD;&#xA;        {&#xD;&#xA;            return 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="public int HaveReagent()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.ItemClass == WoWItemClass.Reagent)&#xD;&#xA;        {&#xD;&#xA;            return 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="public int HaveRecipe()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.ItemClass == WoWItemClass.Recipe)&#xD;&#xA;        {&#xD;&#xA;            return 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="public int HaveTradeGoods()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.ItemClass == WoWItemClass.TradeGoods)&#xD;&#xA;        {&#xD;&#xA;            return 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="public int HaveWeapon()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.ItemClass == WoWItemClass.Weapon &amp;&amp; item.ItemInfo.Id != 2901 &amp;&amp; item.ItemInfo.Id != 40772 &amp;&amp; item.ItemInfo.Id != 5956)&#xD;&#xA;        {&#xD;&#xA;            return 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="public int HaveQuest()&#xD;&#xA;{&#xD;&#xA;    foreach (WoWItem item in Me.BagItems)&#xD;&#xA;    {&#xD;&#xA;        if (item.ItemInfo.ItemClass == WoWItemClass.Quest)&#xD;&#xA;        {&#xD;&#xA;            return 1;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    return 0;&#xD;&#xA;}" />
      <Declaration Code="void Interact(int unitID)&#xD;&#xA;{&#xD;&#xA;    WoWObject obj = ObjectManager.GetObjectsOfType&lt;WoWUnit&gt;().Where(u =&gt; u.Entry == unitID).OrderBy(u =&gt; u.Distance).FirstOrDefault();&#xD;&#xA;    obj.Interact();&#xD;&#xA;}" />
      <Declaration Code="private bool tryUseTaxi(int TaxiID, int TaxiNumber)&#xD;&#xA;{&#xD;&#xA;Interact(TaxiID);&#xD;&#xA;Thread.Sleep(1500);&#xD;&#xA;Lua.DoString(string.Format(&quot;RunMacroText(\&quot;{0}\&quot;)&quot;, &quot;/click TaxiButton&quot; + TaxiNumber));&#xD;&#xA;return true;&#xD;&#xA;}" />
    </SubRoutine>
  </SubRoutine>
  <SubRoutine SubRoutineName="Farm Subs">
    <!--Darkshore-->
    <SubRoutine SubRoutineName="Farm_Copper148">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Copper at Darkshore.&quot;);" />
      <If Condition="Me.ZoneId != 148" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <While Condition="Me.ZoneId != 148" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Copper148.xml" />
        </While>
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper148.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper148.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper148.xml" />
      </While>
    </SubRoutine>
    <!--Elwynn Forest-->
    <SubRoutine SubRoutineName="Farm_Copper12">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Copper at Elwynn Forest.&quot;);" />
      <If Condition="Me.ZoneId != 12" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <While Condition="Me.ZoneId != 12" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Copper12.xml" />
        </While>
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper12.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper12.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper12.xml" />
      </While>
    </SubRoutine>
    <!--Dun Morogh-->
    <SubRoutine SubRoutineName="Farm_Copper1">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Copper at Dun Morogh.&quot;);" />
      <If Condition="Me.ZoneId != 1" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <While Condition="Me.ZoneId != 1" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Copper1.xml" />
        </While>
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper1.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper1.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper1.xml" />
      </While>
    </SubRoutine>
    <!--Loch Modan-->
    <SubRoutine SubRoutineName="Farm_Copper38">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Copper at Loch Modan.&quot;);" />
      <If Condition="Me.ZoneId != 38" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <While Condition="Me.ZoneId != 38" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Copper38.xml" />
        </While>
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper38.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper38.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper38.xml" />
      </While>
    </SubRoutine>
    <!--Durotar-->
    <SubRoutine SubRoutineName="Farm_Copper14">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Copper at Durotar.&quot;);" />
      <If Condition="Me.ZoneId != 14" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <While Condition="Me.ZoneId != 14" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Copper14.xml" />
        </While>
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper14.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper14.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper14.xml" />
      </While>
    </SubRoutine>
    <!--Azshara-->
    <SubRoutine SubRoutineName="Farm_Copper16">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Copper at Azshara.&quot;);" />
      <If Condition="Me.ZoneId != 16" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <While Condition="Me.ZoneId != 16" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Copper16.xml" />
        </While>
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper16.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper16.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper16.xml" />
      </While>
    </SubRoutine>
    <!--Northern Barrens-->
    <SubRoutine SubRoutineName="Farm_Copper17">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Copper at Northern Barrens.&quot;);" />
      <If Condition="Me.ZoneId != 17" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <While Condition="Me.ZoneId != 17" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Copper17.xml" />
        </While>
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper17.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper17.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper17.xml" />
      </While>
    </SubRoutine>
    <!--Tirisfal Glades-->
    <SubRoutine SubRoutineName="Farm_Copper85">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Copper at Tirisfal Glades.&quot;);" />
      <If Condition="Me.ZoneId != 85" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <While Condition="Me.ZoneId != 85" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Copper85.xml" />
        </While>
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper85.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper85.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper85.xml" />
      </While>
    </SubRoutine>
    <!--Mulgore-->
    <SubRoutine SubRoutineName="Farm_Copper215">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Copper at Mulgore.&quot;);" />
      <If Condition="Me.ZoneId != 215" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <While Condition="Me.ZoneId != 215" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Copper215.xml" />
        </While>
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper215.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2770) &lt; (int)Settings[&quot;CopperNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper215.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2835) &lt; (int)Settings[&quot;RoughStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Copper215.xml" />
      </While>
    </SubRoutine>
    <!--Ashenvale-->
    <SubRoutine SubRoutineName="Farm_Tin331">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Tin at Ashenvale.&quot;);" />
      <If Condition="Me.ZoneId != 331" IgnoreCanRun="True">
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <CustomAction Code="FarmTime.Reset();" />
        <While Condition="Me.ZoneId != 331" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Tin331.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin331.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2771) &lt; (int)Settings[&quot;TinNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin331.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2775) &lt; (int)Settings[&quot;SilverNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin331.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2836) &lt; (int)Settings[&quot;CoarseStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin331.xml" />
      </While>
    </SubRoutine>
    <!--Stonetalon Mountains-->
    <SubRoutine SubRoutineName="Farm_Tin406">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Tin at Stonetalon Mountains.&quot;);" />
      <If Condition="Me.ZoneId != 406" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 406" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Tin406.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin406.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2771) &lt; (int)Settings[&quot;TinNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin406.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2775) &lt; (int)Settings[&quot;SilverNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin406.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2836) &lt; (int)Settings[&quot;CoarseStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin406.xml" />
      </While>
    </SubRoutine>
    <!--Hillsbrad Foothills-->
    <SubRoutine SubRoutineName="Farm_Tin267">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Tin at Hillsbrad Foothills.&quot;);" />
      <If Condition="Me.ZoneId != 267" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 267" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Tin267.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin267.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2771) &lt; (int)Settings[&quot;TinNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin267.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2775) &lt; (int)Settings[&quot;SilverNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin267.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2836) &lt; (int)Settings[&quot;CoarseStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin267.xml" />
      </While>
    </SubRoutine>
    <!--Northern Stranglethorn-->
    <SubRoutine SubRoutineName="Farm_Tin33">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Tin at Northern Stranglethorn.&quot;);" />
      <If Condition="Me.ZoneId != 33" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 33" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Tin33.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin33.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2771) &lt; (int)Settings[&quot;TinNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin33.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2775) &lt; (int)Settings[&quot;SilverNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin33.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2836) &lt; (int)Settings[&quot;CoarseStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Tin33.xml" />
      </While>
    </SubRoutine>
    <!--Feralas-->
    <SubRoutine SubRoutineName="Farm_Iron357">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Iron at Feralas.&quot;);" />
      <If Condition="Me.ZoneId != 357" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 357" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Iron357.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron357.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2772) &lt; (int)Settings[&quot;IronNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron357.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2838) &lt; (int)Settings[&quot;HeavyStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron357.xml" />
      </While>
    </SubRoutine>
    <!--Desolace-->
    <SubRoutine SubRoutineName="Farm_Iron405">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Iron at Desolace.&quot;);" />
      <If Condition="Me.ZoneId != 405" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 405" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Iron405.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron405.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2772) &lt; (int)Settings[&quot;IronNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron405.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2838) &lt; (int)Settings[&quot;HeavyStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron405.xml" />
      </While>
    </SubRoutine>
    <!--Southern Barrens-->
    <SubRoutine SubRoutineName="Farm_Iron4709">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Iron at Southern Barrens.&quot;);" />
      <If Condition="Me.ZoneId != 4709" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 4709" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Iron4709.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron34709.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2772) &lt; (int)Settings[&quot;IronNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron4709.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2838) &lt; (int)Settings[&quot;HeavyStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron34709.xml" />
      </While>
    </SubRoutine>
    <!--Western Plaguelands-->
    <SubRoutine SubRoutineName="Farm_Iron28">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Iron at Western Plaguelands.&quot;);" />
      <If Condition="Me.ZoneId != 28" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 28" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Iron28.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron28.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2772) &lt; (int)Settings[&quot;IronNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron28.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2838) &lt; (int)Settings[&quot;HeavyStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron28.xml" />
      </While>
    </SubRoutine>
    <!--Eastern Plaguelands-->
    <SubRoutine SubRoutineName="Farm_Iron139">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Iron at Eastern Plaguelands.&quot;);" />
      <If Condition="Me.ZoneId != 139" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 139" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Iron139.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron139.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2772) &lt; (int)Settings[&quot;IronNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron139.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2838) &lt; (int)Settings[&quot;HeavyStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron139.xml" />
      </While>
    </SubRoutine>
    <!--The Cape of Stranglethorn-->
    <SubRoutine SubRoutineName="Farm_Iron5287">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <CustomAction Code="slog(&quot;Farming Iron at The Cape of Stranglethorn.&quot;);" />
      <If Condition="Me.ZoneId != 5287" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 5287" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Iron5287.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron5287.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2772) &lt; (int)Settings[&quot;IronNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron5287.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2838) &lt; (int)Settings[&quot;HeavyStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron5287.xml" />
      </While>
    </SubRoutine>
    <!--Arathi Highlands-->
    <SubRoutine SubRoutineName="Farm_Iron45">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <If Condition="Me.ZoneId != 45" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 45" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Iron45.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="slog(&quot;Farming Iron at Arathi Highlands.&quot;);" />
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron45.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2772) &lt; (int)Settings[&quot;IronNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron45.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(2838) &lt; (int)Settings[&quot;HeavyStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Iron45.xml" />
      </While>
    </SubRoutine>
    <!--Badlands-->
    <SubRoutine SubRoutineName="Farm_Mithril3">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <If Condition="Me.ZoneId != 3" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 3" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril3.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="slog(&quot;Farming Mithril at Badlands.&quot;);" />
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril3.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(3858) &lt; (int)Settings[&quot;MithrilNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril3.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(7912) &lt; (int)Settings[&quot;SolidStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril3.xml" />
      </While>
    </SubRoutine>
    <!--Burning Steppes-->
    <SubRoutine SubRoutineName="Farm_Mithril46">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <If Condition="Me.ZoneId != 46" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 46" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril46.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="slog(&quot;Farming Mithril at Burning Steppes.&quot;);" />
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril46.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(3858) &lt; (int)Settings[&quot;MithrilNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril46.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(7912) &lt; (int)Settings[&quot;SolidStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril46.xml" />
      </While>
    </SubRoutine>
    <!--Searing Gorge-->
    <SubRoutine SubRoutineName="Farm_Mithril51">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <If Condition="Me.ZoneId != 51" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 51" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril51.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="slog(&quot;Farming Mithril at Searing Gorge.&quot;);" />
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril51.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(3858) &lt; (int)Settings[&quot;MithrilNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril51.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(7912) &lt; (int)Settings[&quot;SolidStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Mithril51.xml" />
      </While>
    </SubRoutine>
    <!--Winterspring-->
    <SubRoutine SubRoutineName="Farm_Thorium618">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <If Condition="Me.ZoneId != 618" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 618" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium618.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="slog(&quot;Farming Thorium at Winterspring.&quot;);" />
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium618.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(10620) &lt; (int)Settings[&quot;ThoriumNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium618.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(12365) &lt; (int)Settings[&quot;DenseStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium618.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(7910) &lt; (int)Settings[&quot;StarRubyNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium618.xml" />
      </While>
    </SubRoutine>
    <!--Un'Goro Crater-->
    <SubRoutine SubRoutineName="Farm_Thorium490">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <If Condition="Me.ZoneId != 490" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 490" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium490.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="slog(&quot;Farming Thorium at Un'Goro Crater.&quot;);" />
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium490.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(10620) &lt; (int)Settings[&quot;ThoriumNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium490.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(12365) &lt; (int)Settings[&quot;DenseStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium490.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(7910) &lt; (int)Settings[&quot;StarRubyNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium490.xml" />
      </While>
    </SubRoutine>
    <!--Silithus-->
    <SubRoutine SubRoutineName="Farm_Thorium1377">
      <While Condition="SecondaryBot.Name != &quot;Gatherbuddy2&quot;" IgnoreCanRun="True">
        <ChangeBotAction BotName="Gatherbuddy2" />
      </While>
      <If Condition="Me.ZoneId != 1377" IgnoreCanRun="True">
        <CustomAction Code="FarmTime.Reset();" />
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = false;" />
        <While Condition="Me.ZoneId != 1377" IgnoreCanRun="True">
          <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium1377.xml" />
        </While>
        <CustomAction Code="Bots.Gatherbuddy.GatherbuddySettings.Instance.GatherMinerals = true;" />
      </If>
      <CustomAction Code="slog(&quot;Farming Thorium at Silithus.&quot;);" />
      <CustomAction Code="FarmTime.Reset();" />
      <CustomAction Code="FarmTime.Start();" />
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] == 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium1377.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(10620) &lt; (int)Settings[&quot;ThoriumNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium1377.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(12365) &lt; (int)Settings[&quot;DenseStoneNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium1377.xml" />
      </While>
      <While Condition="(int)Settings[&quot;FarmTilLevel&quot;] != 9999 &amp;&amp; Mining.Level &lt; (int)Settings[&quot;FarmTilLevel&quot;] &amp;&amp; InbagCount(7910) &lt; (int)Settings[&quot;StarRubyNeed&quot;] &amp;&amp; FarmTime.Elapsed.TotalMinutes &lt; (int)Settings[&quot;Farm Time&quot;] &amp;&amp; Me.FreeNormalBagSlots &gt; 5" IgnoreCanRun="True">
        <LoadProfileAction ProfileType="Honorbuddy" Path="Thorium1377.xml" />
      </While>
    </SubRoutine>
  </SubRoutine>
</Professionbuddy>
